{"ast":null,"code":"'use client';\n\nimport { SchemaModel } from 'schema-typed';\nimport { useRef, useCallback } from 'react';\nimport { constructFlatSchema } from \"../utils/constructFlatSchema.js\";\nfunction useSchemaModel(formModel, nestedField) {\n  var subRulesRef = useRef([]);\n  var pushFieldRule = useCallback(function (name, fieldRule) {\n    subRulesRef.current.push({\n      name: name,\n      fieldRule: fieldRule\n    });\n  }, []);\n  var removeFieldRule = useCallback(function (name) {\n    var index = subRulesRef.current.findIndex(function (v) {\n      return v.name === name;\n    });\n    subRulesRef.current.splice(index, 1);\n  }, []);\n  var getCombinedModel = useCallback(function () {\n    var realSubRules = subRulesRef.current.filter(function (v) {\n      return Boolean(v.fieldRule.current);\n    });\n\n    // If there is no sub rule, return the original form model\n    if (realSubRules.length === 0) {\n      return formModel;\n    }\n    var subRuleObject = realSubRules.map(function (_ref) {\n      var _ref2;\n      var name = _ref.name,\n        fieldRule = _ref.fieldRule;\n      return _ref2 = {}, _ref2[name] = fieldRule.current, _ref2;\n    }).reduce(function (a, b) {\n      return Object.assign(a, b);\n    }, {});\n    return SchemaModel.combine(formModel, SchemaModel(nestedField ? constructFlatSchema(subRuleObject) : subRuleObject));\n  }, [formModel, nestedField]);\n  return {\n    getCombinedModel: getCombinedModel,\n    pushFieldRule: pushFieldRule,\n    removeFieldRule: removeFieldRule\n  };\n}\nexport default useSchemaModel;","map":{"version":3,"names":["SchemaModel","useRef","useCallback","constructFlatSchema","useSchemaModel","formModel","nestedField","subRulesRef","pushFieldRule","name","fieldRule","current","push","removeFieldRule","index","findIndex","v","splice","getCombinedModel","realSubRules","filter","Boolean","length","subRuleObject","map","_ref","_ref2","reduce","a","b","Object","assign","combine"],"sources":["C:/Users/MVclouds/Desktop/QuickForm/Merged Mapping QF/QuickForm/QuickForm-Romit-Kajal-Merge/quick-form-app/node_modules/rsuite/esm/Form/hooks/useSchemaModel.js"],"sourcesContent":["'use client';\nimport { SchemaModel } from 'schema-typed';\nimport { useRef, useCallback } from 'react';\nimport { constructFlatSchema } from \"../utils/constructFlatSchema.js\";\nfunction useSchemaModel(formModel, nestedField) {\n  var subRulesRef = useRef([]);\n  var pushFieldRule = useCallback(function (name, fieldRule) {\n    subRulesRef.current.push({\n      name: name,\n      fieldRule: fieldRule\n    });\n  }, []);\n  var removeFieldRule = useCallback(function (name) {\n    var index = subRulesRef.current.findIndex(function (v) {\n      return v.name === name;\n    });\n    subRulesRef.current.splice(index, 1);\n  }, []);\n  var getCombinedModel = useCallback(function () {\n    var realSubRules = subRulesRef.current.filter(function (v) {\n      return Boolean(v.fieldRule.current);\n    });\n\n    // If there is no sub rule, return the original form model\n    if (realSubRules.length === 0) {\n      return formModel;\n    }\n    var subRuleObject = realSubRules.map(function (_ref) {\n      var _ref2;\n      var name = _ref.name,\n        fieldRule = _ref.fieldRule;\n      return _ref2 = {}, _ref2[name] = fieldRule.current, _ref2;\n    }).reduce(function (a, b) {\n      return Object.assign(a, b);\n    }, {});\n    return SchemaModel.combine(formModel, SchemaModel(nestedField ? constructFlatSchema(subRuleObject) : subRuleObject));\n  }, [formModel, nestedField]);\n  return {\n    getCombinedModel: getCombinedModel,\n    pushFieldRule: pushFieldRule,\n    removeFieldRule: removeFieldRule\n  };\n}\nexport default useSchemaModel;"],"mappings":"AAAA,YAAY;;AACZ,SAASA,WAAW,QAAQ,cAAc;AAC1C,SAASC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAC3C,SAASC,mBAAmB,QAAQ,iCAAiC;AACrE,SAASC,cAAcA,CAACC,SAAS,EAAEC,WAAW,EAAE;EAC9C,IAAIC,WAAW,GAAGN,MAAM,CAAC,EAAE,CAAC;EAC5B,IAAIO,aAAa,GAAGN,WAAW,CAAC,UAAUO,IAAI,EAAEC,SAAS,EAAE;IACzDH,WAAW,CAACI,OAAO,CAACC,IAAI,CAAC;MACvBH,IAAI,EAAEA,IAAI;MACVC,SAAS,EAAEA;IACb,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EACN,IAAIG,eAAe,GAAGX,WAAW,CAAC,UAAUO,IAAI,EAAE;IAChD,IAAIK,KAAK,GAAGP,WAAW,CAACI,OAAO,CAACI,SAAS,CAAC,UAAUC,CAAC,EAAE;MACrD,OAAOA,CAAC,CAACP,IAAI,KAAKA,IAAI;IACxB,CAAC,CAAC;IACFF,WAAW,CAACI,OAAO,CAACM,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EACN,IAAII,gBAAgB,GAAGhB,WAAW,CAAC,YAAY;IAC7C,IAAIiB,YAAY,GAAGZ,WAAW,CAACI,OAAO,CAACS,MAAM,CAAC,UAAUJ,CAAC,EAAE;MACzD,OAAOK,OAAO,CAACL,CAAC,CAACN,SAAS,CAACC,OAAO,CAAC;IACrC,CAAC,CAAC;;IAEF;IACA,IAAIQ,YAAY,CAACG,MAAM,KAAK,CAAC,EAAE;MAC7B,OAAOjB,SAAS;IAClB;IACA,IAAIkB,aAAa,GAAGJ,YAAY,CAACK,GAAG,CAAC,UAAUC,IAAI,EAAE;MACnD,IAAIC,KAAK;MACT,IAAIjB,IAAI,GAAGgB,IAAI,CAAChB,IAAI;QAClBC,SAAS,GAAGe,IAAI,CAACf,SAAS;MAC5B,OAAOgB,KAAK,GAAG,CAAC,CAAC,EAAEA,KAAK,CAACjB,IAAI,CAAC,GAAGC,SAAS,CAACC,OAAO,EAAEe,KAAK;IAC3D,CAAC,CAAC,CAACC,MAAM,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;MACxB,OAAOC,MAAM,CAACC,MAAM,CAACH,CAAC,EAAEC,CAAC,CAAC;IAC5B,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,OAAO7B,WAAW,CAACgC,OAAO,CAAC3B,SAAS,EAAEL,WAAW,CAACM,WAAW,GAAGH,mBAAmB,CAACoB,aAAa,CAAC,GAAGA,aAAa,CAAC,CAAC;EACtH,CAAC,EAAE,CAAClB,SAAS,EAAEC,WAAW,CAAC,CAAC;EAC5B,OAAO;IACLY,gBAAgB,EAAEA,gBAAgB;IAClCV,aAAa,EAAEA,aAAa;IAC5BK,eAAe,EAAEA;EACnB,CAAC;AACH;AACA,eAAeT,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}