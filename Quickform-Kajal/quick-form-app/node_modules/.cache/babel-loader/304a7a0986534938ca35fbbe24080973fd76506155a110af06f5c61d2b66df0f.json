{"ast":null,"code":"import _objectSpread from\"C:/Users/MVclouds/Desktop/QuickForm/Merged Mapping QF/QuickForm/QuickForm-Romit-Kajal-Merge/quick-form-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// PublicFormViewer.js\nimport React,{useState,useEffect,useRef}from'react';import{useParams}from'react-router-dom';import{decrypt}from'../form-builder-with-versions/crypto';import{DatePicker}from'rsuite';import'rsuite/dist/rsuite.min.css';import SignatureCanvas from'react-signature-canvas';import ReactQuill from'react-quill';import'react-quill/dist/quill.snow.css';import InputMask from'react-input-mask';import PhoneInput from'react-phone-input-2';import'react-phone-input-2/lib/style.css';import{AiOutlineStar,AiFillStar,AiOutlineHeart,AiFillHeart}from'react-icons/ai';import{FaRegLightbulb,FaLightbulb,FaBolt,FaInfoCircle}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function PublicFormViewer(){var _pages$currentPage;const{linkId}=useParams();const[formData,setFormData]=useState(null);const[formValues,setFormValues]=useState({});const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[fetchError,setFetchError]=useState(null);const[accessToken,setAccessToken]=useState(null);const[linkData,setLinkData]=useState(null);const[signatures,setSignatures]=useState({});const[filePreviews,setFilePreviews]=useState({});const[selectedRatings,setSelectedRatings]=useState({});const[selectedOptions,setSelectedOptions]=useState({});const[isDropdownOpen,setIsDropdownOpen]=useState({});const[toggles,setToggles]=useState({});const signatureRefs=useRef({});const[currentPage,setCurrentPage]=useState(0);const[pages,setPages]=useState([]);useEffect(()=>{const fetchFormData=async()=>{try{let decrypted;try{decrypted=JSON.parse(decrypt(decodeURIComponent(linkId)));}catch(e){throw new Error('Invalid or corrupted link');}const{userId,instanceUrl,formVersionId}=decrypted;if(!userId||!instanceUrl||!formVersionId){throw new Error('Invalid link data');}setLinkData({userId,instanceUrl,formVersionId});const tokenResponse=await fetch(process.env.REACT_APP_GET_ACCESS_TOKEN_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId,instanceUrl})});const tokenData=await tokenResponse.json();if(!tokenResponse.ok||tokenData.error){throw new Error(tokenData.error||'Failed to fetch access token');}const token=tokenData.access_token;setAccessToken(token);const response=await fetch(process.env.REACT_APP_FETCH_FORM_BY_LINK_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId,instanceUrl,formVersionId,accessToken:token})});const data=await response.json();if(!response.ok){throw new Error(data.error||'Failed to fetch form');}setFormData(data.formVersion);const initialValues={};const initialSignatures={};const initialFilePreviews={};const initialRatings={};const initialSelectedOptions={};const initialToggles={};data.formVersion.Fields.forEach(field=>{const properties=JSON.parse(field.Properties__c||'{}');const fieldType=field.Field_Type__c;if(fieldType==='checkbox'||fieldType==='dropdown'&&properties.allowMultipleSelections){initialValues[field.Unique_Key__c]=properties.defaultValue||[];}else if(fieldType==='datetime'||fieldType==='date'){initialValues[field.Unique_Key__c]=properties.defaultValue||null;}else if(fieldType==='time'){initialValues[field.Unique_Key__c]=properties.defaultValue||'';}else if(fieldType==='scalerating'){initialValues[field.Unique_Key__c]={};}else{initialValues[field.Unique_Key__c]=properties.defaultValue||'';}initialSignatures[field.Unique_Key__c]=null;initialFilePreviews[field.Unique_Key__c]=null;initialRatings[field.Unique_Key__c]=null;initialSelectedOptions[field.Unique_Key__c]=fieldType==='dropdown'&&properties.allowMultipleSelections?[]:'';initialToggles[field.Unique_Key__c]=false;});setFormValues(initialValues);setSignatures(initialSignatures);setFilePreviews(initialFilePreviews);setSelectedRatings(initialRatings);setSelectedOptions(initialSelectedOptions);setToggles(initialToggles);// Split fields into pages based on Page_Number__c and sort by Order_Number__c\nconst pageMap={};data.formVersion.Fields.forEach(field=>{const pageNum=field.Page_Number__c||1;if(!pageMap[pageNum]){pageMap[pageNum]=[];}pageMap[pageNum].push(field);});const sortedPages=Object.keys(pageMap).sort((a,b)=>Number(a)-Number(b)).map(pageNum=>{return pageMap[pageNum].sort((a,b)=>(a.Order_Number__c||0)-(b.Order_Number__c||0));});setPages(sortedPages.length>0?sortedPages:[data.formVersion.Fields]);}catch(error){console.error('Error fetching form:',error);setFetchError(error.message||'Failed to load form');}};if(linkId){fetchFormData();}},[linkId]);const handleChange=function(fieldId,value){let isFile=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setFormValues(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:isFile?value:value}));setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:null}));};const handleRatingChange=(fieldId,value)=>{setSelectedRatings(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:value}));handleChange(fieldId,value);};const handleToggleChange=(fieldId,checked)=>{setToggles(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:checked}));handleChange(fieldId,checked);};const handleOptionToggle=(fieldId,option,allowMultiple)=>{setSelectedOptions(prev=>{let newOptions;if(allowMultiple){newOptions=prev[fieldId].includes(option)?prev[fieldId].filter(opt=>opt!==option):[...prev[fieldId],option];}else{newOptions=option;setIsDropdownOpen(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:false}));}handleChange(fieldId,newOptions);return _objectSpread(_objectSpread({},prev),{},{[fieldId]:newOptions});});};const handleFileChange=(fieldId,e,fieldType)=>{const files=e.target.files;if(files&&files.length>0){const file=files[0];const reader=new FileReader();reader.onload=()=>{setFilePreviews(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:reader.result}));handleChange(fieldId,file,true);};reader.readAsDataURL(file);}};const handleSignatureEnd=(fieldId,sigCanvasRef)=>{if(sigCanvasRef.current&&!sigCanvasRef.current.isEmpty()){const dataUrl=sigCanvasRef.current.toDataURL('image/png');setSignatures(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:dataUrl}));handleChange(fieldId,dataUrl);}};const clearSignature=(fieldId,sigCanvasRef)=>{if(sigCanvasRef&&sigCanvasRef.current){sigCanvasRef.current.clear();setSignatures(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:null}));handleChange(fieldId,null);}};const validateForm=()=>{if(!formData)return false;const newErrors={};formData.Fields.forEach(field=>{var _properties$numberVal,_properties$priceLimi;const properties=JSON.parse(field.Properties__c||'{}');const value=formValues[field.Unique_Key__c];const fieldType=field.Field_Type__c;const fieldLabel=properties.label||field.Name;const isRequired=properties.isRequired;if(isRequired){if(value===''||value==null||Array.isArray(value)&&value.length===0||fieldType==='fileupload'&&!value||fieldType==='imageuploader'&&!value||fieldType==='signature'&&!signatures[field.Unique_Key__c]||fieldType==='terms'&&!value||fieldType==='scalerating'&&(!value||Object.keys(value).length===0)){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" is required\");}}switch(fieldType){case'number':if(value!==''&&isNaN(parseFloat(value))){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be a valid number\");}else if((_properties$numberVal=properties.numberValueLimits)!==null&&_properties$numberVal!==void 0&&_properties$numberVal.enabled){const numValue=parseFloat(value);const{min,max}=properties.numberValueLimits;if(min!=null&&numValue<parseFloat(min)){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be at least \").concat(min);}if(max!=null&&numValue>parseFloat(max)){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be at most \").concat(max);}}break;case'price':if(value!==''&&isNaN(parseFloat(value))){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be a valid number\");}else if((_properties$priceLimi=properties.priceLimits)!==null&&_properties$priceLimi!==void 0&&_properties$priceLimi.enabled){const numValue=parseFloat(value);const{min,max}=properties.priceLimits;if(min!=null&&numValue<parseFloat(min)){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be at least \").concat(min);}if(max!=null&&numValue>parseFloat(max)){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be at most \").concat(max);}}break;case'shorttext':if(properties.shortTextMaxChars&&value&&value.length>properties.shortTextMaxChars){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be at most \").concat(properties.shortTextMaxChars,\" characters\");}break;case'longtext':if(properties.longTextMaxChars&&value&&value.length>properties.longTextMaxChars){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be at most \").concat(properties.longTextMaxChars,\" characters\");}break;case'email':if(value&&!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be a valid email address\");}if(properties.allowedDomains&&value){const domains=properties.allowedDomains.split(',').map(d=>d.trim());const domain=value.split('@')[1];if(!domains.includes(domain)){newErrors[field.Unique_Key__c]=\"\".concat(fieldLabel,\" must be from one of these domains: \").concat(domains.join(', '));}}if(properties.enableConfirmation&&value!==formValues[\"\".concat(field.Unique_Key__c,\"_confirmation\")]){newErrors[\"\".concat(field.Unique_Key__c,\"_confirmation\")]='Email confirmation does not match';}break;case'fileupload':case'imageuploader':if(value&&properties.maxFileSize&&value.size>properties.maxFileSize*1024*1024){newErrors[field.Unique_Key__c]=\"File size exceeds \".concat(properties.maxFileSize,\"MB limit\");}if(value&&properties.allowedFileTypes){const extension=value.name.split('.').pop().toLowerCase();const allowed=properties.allowedFileTypes.split(',').map(type=>type.trim().toLowerCase());if(!allowed.includes(extension)){newErrors[field.Unique_Key__c]=\"File type \".concat(extension,\" is not allowed. Allowed types: \").concat(properties.allowedFileTypes);}}break;case'date':if(properties.enableAgeVerification&&value){const today=new Date();const birthDate=new Date(value);let age=today.getFullYear()-birthDate.getFullYear();const m=today.getMonth()-birthDate.getMonth();if(m<0||m===0&&today.getDate()<birthDate.getDate()){age--;}if(age<properties.minAge){newErrors[field.Unique_Key__c]=\"You must be at least \".concat(properties.minAge,\" years old\");}}break;}});setErrors(newErrors);return Object.keys(newErrors).length===0;};const uploadFileToSalesforce=async(file,submissionId)=>{const formData=new FormData();formData.append('file',file);formData.append('submissionId',submissionId);formData.append('userId',linkData.userId);formData.appendcidas('instanceUrl',linkData.instanceUrl);const response=await fetch(process.env.REACT_APP_UPLOAD_DOCUMENT_URL,{method:'POST',headers:{Authorization:\"Bearer \".concat(accessToken)},body:formData});const data=await response.json();if(!response.ok){throw new Error(data.error||'Failed to upload file');}return data.documentId;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()||!linkData||!accessToken){return;}setIsSubmitting(true);try{const submissionData={};const filesToUpload={};console.log('here');for(const key of Object.keys(formValues)){const field=formData.Fields.find(f=>f.Unique_Key__c===key);const fieldType=field===null||field===void 0?void 0:field.Field_Type__c;if(['fileupload','imageuploader'].includes(fieldType)&&formValues[key]instanceof File){filesToUpload[key]=formValues[key];submissionData[key]=formValues[key].name;}else if(fieldType==='signature'&&signatures[key]){const signatureBlob=await(await fetch(signatures[key])).blob();const signatureFile=new File([signatureBlob],\"\".concat(key,\".png\"),{type:'image/png'});filesToUpload[key]=signatureFile;submissionData[key]=\"\".concat(key,\".png\");}else{submissionData[key]=formValues[key];}}console.log(submissionData);console.log(filesToUpload);const response=await fetch(process.env.REACT_APP_SUBMIT_FORM_URL,{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(accessToken)},body:JSON.stringify({userId:linkData.userId,instanceUrl:linkData.instanceUrl,submissionData:{formId:formData.Form__c,formVersionId:formData.Id,data:submissionData,signatures:signatures}})});const data=await response.json();if(!response.ok){throw new Error(data.error||'Failed to submit form');}const submissionId=data.submissionId;const updatedSubmissionData=_objectSpread({},submissionData);for(const[key,file]of Object.entries(filesToUpload)){const documentId=await uploadFileToSalesforce(file,submissionId);updatedSubmissionData[key]=documentId;}alert('Form submitted successfully!');const initialValues={};formData.Fields.forEach(field=>{const properties=JSON.parse(field.Properties__c||'{}');const fieldType=field.Field_Type__c;if(fieldType==='checkbox'||fieldType==='dropdown'&&properties.allowMultipleSelections){initialValues[field.Unique_Key__c]=[];}else if(fieldType==='datetime'||fieldType==='date'){initialValues[field.Unique_Key__c]=null;}else if(fieldType==='scalerating'){initialValues[field.Unique_Key__c]={};}else{initialValues[field.Unique_Key__c]='';}});setFormValues(initialValues);setErrors({});setSignatures({});setFilePreviews({});setSelectedRatings({});setSelectedOptions({});setToggles({});setCurrentPage(0);}catch(error){console.error('Error submitting form:',error);setErrors({submit:error.message||'Failed to submit form'});}finally{setIsSubmitting(false);}};const handleNextPage=()=>{if(currentPage<pages.length-1){setCurrentPage(currentPage+1);}};const handlePreviousPage=()=>{if(currentPage>0){setCurrentPage(currentPage-1);}};if(fetchError){return/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-center p-4\",role:\"alert\",children:fetchError});}if(!formData){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-4\",children:\"Loading form...\"});}const renderField=field=>{var _properties$placehold,_properties$placehold2,_properties$placehold3,_properties$placehold4,_properties$numberVal2,_properties$numberVal3,_properties$placehold5,_properties$priceLimi2,_properties$priceLimi3,_properties$placehold6,_properties$selectedC,_properties$placehold7,_properties$placehold8,_properties$dateForma,_properties$placehold9,_properties$placehold0,_properties$placehold1,_properties$placehold10,_properties$placehold11,_properties$salutatio,_properties$placehold12,_properties$placehold13,_properties$visibleSu,_properties$subLabels,_properties$placehold14,_properties$visibleSu2,_properties$subLabels2,_properties$placehold15,_properties$visibleSu3,_properties$subLabels3,_properties$placehold16,_properties$visibleSu4,_properties$subLabels4,_properties$placehold17,_properties$visibleSu5,_properties$subLabels5,_properties$placehold18,_properties$placehold19,_properties$placehold20,_properties$placehold21,_ratingOptions$find,_properties$placehold22;const properties=JSON.parse(field.Properties__c||'{}');const fieldId=field.Unique_Key__c;const fieldType=field.Field_Type__c;const fieldLabel=properties.label||field.Name;const isDisabled=properties.isDisabled||false;const isRequired=properties.isRequired;const hasError=!!errors[fieldId];const helpText=properties.showHelpText?properties.helpText:null;const labelAlignment=properties.labelAlignment||'top';const commonProps={id:fieldId,disabled:isDisabled,'aria-required':isRequired,'aria-describedby':hasError?\"\".concat(fieldId,\"-error\"):undefined,className:\"w-full p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 \".concat(hasError?'border-red-500':'border-gray-300')};const labelClass=\"block text-sm font-medium mb-1 \".concat(hasError?'text-red-600':'text-gray-700');const renderLabel=()=>/*#__PURE__*/_jsxs(\"label\",{htmlFor:fieldId,className:labelClass,children:[fieldLabel,isRequired&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]});const renderError=()=>hasError&&/*#__PURE__*/_jsx(\"p\",{id:\"\".concat(fieldId,\"-error\"),className:\"text-red-500 text-sm mt-1\",role:\"alert\",children:errors[fieldId]});const renderHelpText=()=>helpText&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:helpText});switch(fieldType){case'shorttext':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},commonProps),{},{value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),placeholder:((_properties$placehold=properties.placeholder)===null||_properties$placehold===void 0?void 0:_properties$placehold.main)||'',maxLength:properties.shortTextMaxChars})),renderHelpText(),renderError()]});case'longtext':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),properties.isRichText?/*#__PURE__*/_jsx(ReactQuill,{theme:\"snow\",value:formValues[fieldId]||'',onChange:value=>handleChange(fieldId,value),readOnly:isDisabled,placeholder:((_properties$placehold2=properties.placeholder)===null||_properties$placehold2===void 0?void 0:_properties$placehold2.main)||'',modules:{toolbar:isDisabled?false:[['bold','italic','underline','strike'],['blockquote','code-block'],[{'header':1},{'header':2}],[{'list':'ordered'},{'list':'bullet'}],[{'script':'sub'},{'script':'super'}],[{'indent':'-1'},{'indent':'+1'}],[{'direction':'rtl'}],[{'size':['small',false,'large','huge']}],[{'header':[1,2,3,4,5,6,false]}],[{'color':[]},{'background':[]}],[{'font':[]}],[{'align':[]}],['clean']]}}):/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({},commonProps),{},{rows:\"4\",value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),placeholder:((_properties$placehold3=properties.placeholder)===null||_properties$placehold3===void 0?void 0:_properties$placehold3.main)||'',maxLength:properties.longTextMaxChars})),renderHelpText(),renderError()]});case'number':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"number\"},commonProps),{},{value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),placeholder:((_properties$placehold4=properties.placeholder)===null||_properties$placehold4===void 0?void 0:_properties$placehold4.main)||'',min:(_properties$numberVal2=properties.numberValueLimits)===null||_properties$numberVal2===void 0?void 0:_properties$numberVal2.min,max:(_properties$numberVal3=properties.numberValueLimits)===null||_properties$numberVal3===void 0?void 0:_properties$numberVal3.max})),renderHelpText(),renderError()]});case'price':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:properties.currencyType||'USD'}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"number\"},commonProps),{},{step:\"0.01\",value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),placeholder:((_properties$placehold5=properties.placeholder)===null||_properties$placehold5===void 0?void 0:_properties$placehold5.main)||'',min:(_properties$priceLimi2=properties.priceLimits)===null||_properties$priceLimi2===void 0?void 0:_properties$priceLimi2.min,max:(_properties$priceLimi3=properties.priceLimits)===null||_properties$priceLimi3===void 0?void 0:_properties$priceLimi3.max}))]}),renderHelpText(),renderError()]});case'email':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\"},commonProps),{},{value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),placeholder:((_properties$placehold6=properties.placeholder)===null||_properties$placehold6===void 0?void 0:_properties$placehold6.main)||'example@domain.com',maxLength:properties.maxChars})),properties.enableConfirmation&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\".concat(fieldId,\"_confirmation\"),className:labelClass,children:[\"Confirm Email\",isRequired&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\"},commonProps),{},{id:\"\".concat(fieldId,\"_confirmation\"),value:formValues[\"\".concat(fieldId,\"_confirmation\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_confirmation\"),e.target.value),placeholder:\"Confirm email\"})),errors[\"\".concat(fieldId,\"_confirmation\")]&&/*#__PURE__*/_jsx(\"p\",{id:\"\".concat(fieldId,\"_confirmation-error\"),className:\"text-red-500 text-sm mt-1\",role:\"alert\",children:errors[\"\".concat(fieldId,\"_confirmation\")]})]}),renderHelpText(),renderError()]});case'phone':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),properties.enableCountryCode?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/3\",children:/*#__PURE__*/_jsx(PhoneInput,{country:((_properties$selectedC=properties.selectedCountryCode)===null||_properties$selectedC===void 0?void 0:_properties$selectedC.toLowerCase())||'us',value:formValues[\"\".concat(fieldId,\"_countryCode\")]||'',onChange:(phone,countryData)=>{const newCountryCode=countryData.countryCode.toUpperCase();handleChange(\"\".concat(fieldId,\"_countryCode\"),newCountryCode);},inputClass:\"p-2 border rounded text-sm w-full \".concat(hasError?'border-red-500':'border-gray-300'),buttonClass:\"border rounded p-1 bg-white\",dropdownClass:\"border rounded max-h-64 overflow-y-auto\",containerClass:\"flex items-center w-full\",inputProps:{'aria-label':'Country code selector',readOnly:true},disabled:isDisabled,placeholder:\"\",enableSearch:true,searchPlaceholder:\"Search country\",searchNotFound:\"No country found\",preferredCountries:['us','ca','gb']})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/3\",children:/*#__PURE__*/_jsx(InputMask,{mask:properties.phoneInputMask||'(999) 999-9999',value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),className:\"w-full p-2 border rounded text-sm \".concat(hasError?'border-red-500':'border-gray-300'),placeholder:((_properties$placehold7=properties.placeholder)===null||_properties$placehold7===void 0?void 0:_properties$placehold7.main)||'Enter phone number',disabled:isDisabled})})]}):/*#__PURE__*/_jsx(InputMask,{mask:properties.phoneInputMask||'(999) 999-9999',value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),placeholder:((_properties$placehold8=properties.placeholder)===null||_properties$placehold8===void 0?void 0:_properties$placehold8.main)||'Enter phone number',disabled:isDisabled}),renderHelpText(),renderError()]});case'date':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(DatePicker,{format:((_properties$dateForma=properties.dateFormat)===null||_properties$dateForma===void 0?void 0:_properties$dateForma.replace(/\\//g,properties.dateSeparator||'-'))||'YYYY-MM-DD',value:formValues[fieldId]?new Date(formValues[fieldId]):null,onChange:date=>{const formattedDate=date?date.toISOString().split('T')[0]:null;handleChange(fieldId,formattedDate);},placeholder:((_properties$placehold9=properties.placeholder)===null||_properties$placehold9===void 0?void 0:_properties$placehold9.main)||'Select date',className:\"w-full\",disabled:isDisabled,isoWeek:properties.weekStartDay==='Monday',locale:{months:properties.customMonthLabels||['January','February','March','April','May','June','July','August','September','October','November','December'],today:properties.customTodayLabel||'Today'},disabledDate:date=>{var _properties$disabledD,_properties$dateRange,_properties$dateRange2;if((_properties$disabledD=properties.disabledDates)!==null&&_properties$disabledD!==void 0&&_properties$disabledD.includes(date.toISOString().split('T')[0]))return true;if((_properties$dateRange=properties.dateRange)!==null&&_properties$dateRange!==void 0&&_properties$dateRange.start&&date<new Date(properties.dateRange.start))return true;if((_properties$dateRange2=properties.dateRange)!==null&&_properties$dateRange2!==void 0&&_properties$dateRange2.end&&date>new Date(properties.dateRange.end))return true;if(properties.enableAgeVerification){const today=new Date();const birthDate=new Date(date);let age=today.getFullYear()-birthDate.getFullYear();const m=today.getMonth()-birthDate.getMonth();if(m<0||m===0&&today.getDate()<birthDate.getDate()){age--;}return age<properties.minAge;}return false;}}),renderHelpText(),renderError()]});case'datetime':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(DatePicker,{format:properties.dateFormat?\"\".concat(properties.dateFormat.replace(/\\//g,properties.dateSeparator||'-'),\" \").concat(properties.timeFormat||'HH:mm'):'YYYY-MM-DD HH:mm',value:formValues[fieldId]?new Date(formValues[fieldId]):null,onChange:date=>{if(date){const year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,'0');const day=String(date.getDate()).padStart(2,'0');const hours=String(date.getHours()).padStart(2,'0');const minutes=String(date.getMinutes()).padStart(2,'0');const formattedDateTime=\"\".concat(year,\"-\").concat(month,\"-\").concat(day,\" \").concat(hours,\":\").concat(minutes);handleChange(fieldId,formattedDateTime);}else{handleChange(fieldId,null);}},placeholder:((_properties$placehold0=properties.placeholder)===null||_properties$placehold0===void 0?void 0:_properties$placehold0.main)||'Select date and time',className:\"w-full\",disabled:isDisabled,showMeridian:properties.timeFormat==='hh:mm a'}),renderHelpText(),renderError()]});case'time':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(DatePicker,{format:properties.timeFormat||'HH:mm',value:formValues[fieldId]?new Date(\"1970-01-01T\".concat(formValues[fieldId])):null,onChange:date=>{if(date){const hours=String(date.getHours()).padStart(2,'0');const minutes=String(date.getMinutes()).padStart(2,'0');const time=\"\".concat(hours,\":\").concat(minutes);handleChange(fieldId,time);}else{handleChange(fieldId,'');}},placeholder:((_properties$placehold1=properties.placeholder)===null||_properties$placehold1===void 0?void 0:_properties$placehold1.main)||'Select time',className:\"w-full\",disabled:isDisabled,showMeridian:properties.timeFormat==='hh:mm a',disabledTime:date=>{if(!properties.restrictAmPm)return{};const hours=date.getHours();if(properties.restrictAmPm==='AM'&&hours>=12)return{hour:true};if(properties.restrictAmPm==='PM'&&hours<12)return{hour:true};return{};}}),renderHelpText(),renderError()]});case'checkbox':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:labelClass,children:[fieldLabel,isRequired&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(properties.options||['Option 1','Option 2']).map((option,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"\".concat(fieldId,\"-\").concat(idx),checked:Array.isArray(formValues[fieldId])&&formValues[fieldId].includes(option),onChange:e=>{const newValue=e.target.checked?[...(formValues[fieldId]||[]),option]:(formValues[fieldId]||[]).filter(opt=>opt!==option);handleChange(fieldId,newValue);},className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\",disabled:isDisabled}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\".concat(fieldId,\"-\").concat(idx),className:\"ml-2 block text-sm text-gray-700\",children:option})]},idx))}),renderHelpText(),renderError()]});case'radio':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:labelClass,children:[fieldLabel,isRequired&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(properties.options||['Option 1','Option 2','Option 3']).map((option,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"\".concat(fieldId,\"-\").concat(idx),name:fieldId,value:option,checked:formValues[fieldId]===option,onChange:e=>handleChange(fieldId,e.target.value),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\",disabled:isDisabled}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\".concat(fieldId,\"-\").concat(idx),className:\"ml-2 block text-sm text-gray-700\",children:option})]},idx))}),renderHelpText(),renderError()]});case'dropdown':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},commonProps),{},{value:formValues[fieldId]||(properties.allowMultipleSelections?[]:''),onChange:e=>{const value=properties.allowMultipleSelections?Array.from(e.target.selectedOptions,option=>option.value):e.target.value;handleChange(fieldId,value);},multiple:properties.allowMultipleSelections,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:!properties.allowMultipleSelections,children:((_properties$placehold10=properties.placeholder)===null||_properties$placehold10===void 0?void 0:_properties$placehold10.main)||'Select an option'}),(properties.options||['Option 1','Option 2','Option 3']).map((option,idx)=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},idx))]}))}),renderHelpText(),renderError()]});case'fileupload':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"file\"},commonProps),{},{onChange:e=>handleFileChange(fieldId,e,'fileupload'),accept:properties.allowedFileTypes||'image/*,application/pdf,.doc,.docx',multiple:properties.multipleFiles})),filePreviews[fieldId]&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"img\",{src:filePreviews[fieldId],alt:\"Preview\",className:\"max-h-32\",onError:e=>e.target.style.display='none'})}),properties.maxFileSize&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:[\"Max file size: \",properties.maxFileSize,\"MB\"]}),properties.allowedFileTypes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:[\"Allowed types: \",properties.allowedFileTypes]}),renderError()]});case'imageuploader':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-1/2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",className:\"hidden\",id:\"file-upload-\".concat(fieldId),onChange:e=>handleFileChange(fieldId,e,'imageuploader'),disabled:isDisabled}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload-\".concat(fieldId),className:\"block h-32 text-sm p-2 border rounded bg-gray-100 flex items-center justify-center text-gray-700 hover:bg-gray-200 cursor-pointer \".concat(isDisabled?'cursor-not-allowed opacity-50':'',\" \").concat(hasError?'border-red-500':'border-gray-300'),children:filePreviews[fieldId]?/*#__PURE__*/_jsx(\"img\",{src:filePreviews[fieldId],alt:\"Preview\",className:\"max-h-full max-w-full\"}):'Click to Upload Image'})]}),renderHelpText(),renderError()]});case'toggle':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"label\",{className:labelClass,style:{marginBottom:0},children:[fieldLabel,isRequired&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center cursor-pointer ml-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:toggles[fieldId]||false,onChange:e=>handleToggleChange(fieldId,e.target.checked),className:\"sr-only peer\",disabled:isDisabled}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 rounded-full peer \".concat(toggles[fieldId]?'peer-checked:bg-blue-600':''),children:/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 bg-white rounded-full shadow-md transform transition-transform \".concat(toggles[fieldId]?'translate-x-5':'translate-x-1')})})]})]}),renderHelpText(),renderError()]});case'fullname':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[properties.enableSalutation&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:\"Salutation\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_salutation\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_salutation\"),e.target.value),disabled:isDisabled,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:((_properties$placehold11=properties.placeholder)===null||_properties$placehold11===void 0?void 0:_properties$placehold11.salutation)||'Select'}),(_properties$salutatio=properties.salutations)===null||_properties$salutatio===void 0?void 0:_properties$salutatio.map((sal,idx)=>/*#__PURE__*/_jsx(\"option\",{value:sal,children:sal},idx))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:properties.enableSalutation?'w-2/5':'w-1/2',children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_first\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_first\"),e.target.value),placeholder:((_properties$placehold12=properties.placeholder)===null||_properties$placehold12===void 0?void 0:_properties$placehold12.first)||'First Name',disabled:isDisabled})]}),/*#__PURE__*/_jsxs(\"div\",{className:properties.enableSalutation?'w-2/5':'w-1/2',children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_last\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_last\"),e.target.value),placeholder:((_properties$placehold13=properties.placeholder)===null||_properties$placehold13===void 0?void 0:_properties$placehold13.last)||'Last Name',disabled:isDisabled})]})]}),renderHelpText(),renderError()]});case'address':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[((_properties$visibleSu=properties.visibleSubFields)===null||_properties$visibleSu===void 0?void 0:_properties$visibleSu.street)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:((_properties$subLabels=properties.subLabels)===null||_properties$subLabels===void 0?void 0:_properties$subLabels.street)||'Street Address'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_street\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_street\"),e.target.value),placeholder:((_properties$placehold14=properties.placeholder)===null||_properties$placehold14===void 0?void 0:_properties$placehold14.street)||'Street Address',disabled:isDisabled})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[((_properties$visibleSu2=properties.visibleSubFields)===null||_properties$visibleSu2===void 0?void 0:_properties$visibleSu2.city)&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:((_properties$subLabels2=properties.subLabels)===null||_properties$subLabels2===void 0?void 0:_properties$subLabels2.city)||'City'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_city\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_city\"),e.target.value),placeholder:((_properties$placehold15=properties.placeholder)===null||_properties$placehold15===void 0?void 0:_properties$placehold15.city)||'City',disabled:isDisabled})]}),((_properties$visibleSu3=properties.visibleSubFields)===null||_properties$visibleSu3===void 0?void 0:_properties$visibleSu3.state)&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:((_properties$subLabels3=properties.subLabels)===null||_properties$subLabels3===void 0?void 0:_properties$subLabels3.state)||'State'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_state\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_state\"),e.target.value),placeholder:((_properties$placehold16=properties.placeholder)===null||_properties$placehold16===void 0?void 0:_properties$placehold16.state)||'State',disabled:isDisabled})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[((_properties$visibleSu4=properties.visibleSubFields)===null||_properties$visibleSu4===void 0?void 0:_properties$visibleSu4.country)&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:((_properties$subLabels4=properties.subLabels)===null||_properties$subLabels4===void 0?void 0:_properties$subLabels4.country)||'Country'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_country\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_country\"),e.target.value),placeholder:((_properties$placehold17=properties.placeholder)===null||_properties$placehold17===void 0?void 0:_properties$placehold17.country)||'Country',disabled:isDisabled})]}),((_properties$visibleSu5=properties.visibleSubFields)===null||_properties$visibleSu5===void 0?void 0:_properties$visibleSu5.postal)&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500\",children:((_properties$subLabels5=properties.subLabels)===null||_properties$subLabels5===void 0?void 0:_properties$subLabels5.postal)||'Postal Code'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border rounded \".concat(hasError?'border-red-500':'border-gray-300'),value:formValues[\"\".concat(fieldId,\"_postal\")]||'',onChange:e=>handleChange(\"\".concat(fieldId,\"_postal\"),e.target.value),placeholder:((_properties$placehold18=properties.placeholder)===null||_properties$placehold18===void 0?void 0:_properties$placehold18.postal)||'Postal Code',disabled:isDisabled})]})]})]}),renderHelpText(),renderError()]});case'signature':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(SignatureCanvas,{ref:ref=>signatureRefs.current[fieldId]=ref,canvasProps:{className:\"border rounded w-full h-32 \".concat(hasError?'border-red-500':'border-gray-300'),style:{backgroundColor:'#fff'}},onEnd:()=>handleSignatureEnd(fieldId,signatureRefs.current[fieldId])}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>clearSignature(fieldId,signatureRefs.current[fieldId]),className:\"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400\",disabled:isDisabled,children:\"Clear\"})}),signatures[fieldId]&&/*#__PURE__*/_jsx(\"img\",{src:signatures[fieldId],alt:\"Signature Preview\",className:\"w-32 h-16 object-contain\"})]}),renderHelpText(),renderError()]});case'terms':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center h-5\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:fieldId,checked:formValues[fieldId]||false,onChange:e=>handleChange(fieldId,e.target.checked),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\",disabled:isDisabled,\"aria-required\":isRequired})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:fieldId,className:labelClass,children:[properties.makeAsLink&&properties.termsLinkUrl?/*#__PURE__*/_jsx(\"a\",{href:properties.termsLinkUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 hover:underline\",children:((_properties$placehold19=properties.placeholder)===null||_properties$placehold19===void 0?void 0:_properties$placehold19.main)||'I agree to the terms and conditions'}):((_properties$placehold20=properties.placeholder)===null||_properties$placehold20===void 0?void 0:_properties$placehold20.main)||'I agree to the terms and conditions',isRequired&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]})})]}),renderHelpText(),renderError()]});case'displaytext':return/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:((_properties$placehold21=properties.placeholder)===null||_properties$placehold21===void 0?void 0:_properties$placehold21.main)||properties.label||'Display Text'})});case'header':return/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 \".concat(properties.alignment==='left'?'text-left':properties.alignment==='right'?'text-right':'text-center'),children:properties.heading||'Form Header'})});case'rating':const ratingRange=properties.ratingRange||5;const ratingOptions={emoji:Array.from({length:ratingRange},(_,i)=>{var _properties$ratingEmo,_properties$ratingVal;return{value:\"emoji\".concat(i+1),symbol:((_properties$ratingEmo=properties.ratingEmojis)===null||_properties$ratingEmo===void 0?void 0:_properties$ratingEmo[i])||['ðŸ˜ž','ðŸ™','ðŸ˜','ðŸ™‚','ðŸ˜€'][i%5]||'ðŸ˜€',label:((_properties$ratingVal=properties.ratingValues)===null||_properties$ratingVal===void 0?void 0:_properties$ratingVal[i])||\"Rating \".concat(i+1)};}),star:Array.from({length:ratingRange},(_,i)=>{var _properties$ratingVal2;return{value:i+1,label:((_properties$ratingVal2=properties.ratingValues)===null||_properties$ratingVal2===void 0?void 0:_properties$ratingVal2[i])||\"Rating \".concat(i+1)};}),heart:Array.from({length:ratingRange},(_,i)=>{var _properties$ratingVal3;return{value:\"heart\".concat(i+1),symbol:'â¤ï¸',label:((_properties$ratingVal3=properties.ratingValues)===null||_properties$ratingVal3===void 0?void 0:_properties$ratingVal3[i])||\"Rating \".concat(i+1)};}),bulb:Array.from({length:ratingRange},(_,i)=>{var _properties$ratingVal4;return{value:\"bulb\".concat(i+1),symbol:'ðŸ’¡',label:((_properties$ratingVal4=properties.ratingValues)===null||_properties$ratingVal4===void 0?void 0:_properties$ratingVal4[i])||\"Rating \".concat(i+1)};}),lightning:Array.from({length:ratingRange},(_,i)=>{var _properties$ratingVal5;return{value:\"lightning\".concat(i+1),symbol:'âš¡',label:((_properties$ratingVal5=properties.ratingValues)===null||_properties$ratingVal5===void 0?void 0:_properties$ratingVal5[i])||\"Rating \".concat(i+1)};})};return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:ratingOptions[properties.ratingType||'star'].map((option,idx)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleRatingChange(fieldId,option.value),disabled:isDisabled,className:\"text-2xl \".concat(selectedRatings[fieldId]===option.value?'text-blue-600':'text-gray-400',\" hover:text-blue-500 focus:outline-none\"),children:properties.ratingType==='star'?selectedRatings[fieldId]===option.value?/*#__PURE__*/_jsx(AiFillStar,{}):/*#__PURE__*/_jsx(AiOutlineStar,{}):properties.ratingType==='heart'?selectedRatings[fieldId]===option.value?/*#__PURE__*/_jsx(AiFillHeart,{}):/*#__PURE__*/_jsx(AiOutlineHeart,{}):properties.ratingType==='bulb'?selectedRatings[fieldId]===option.value?/*#__PURE__*/_jsx(FaLightbulb,{}):/*#__PURE__*/_jsx(FaRegLightbulb,{}):properties.ratingType==='lightning'?selectedRatings[fieldId]===option.value?/*#__PURE__*/_jsx(FaBolt,{}):/*#__PURE__*/_jsx(FaBolt,{}):option.symbol},option.value))}),selectedRatings[fieldId]&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Selected: \",(_ratingOptions$find=ratingOptions[properties.ratingType||'star'].find(o=>o.value===selectedRatings[fieldId]))===null||_ratingOptions$find===void 0?void 0:_ratingOptions$find.label]})]}),renderHelpText(),renderError()]});case'scalerating':const rows=properties.rows||['Row 1','Row 2'];const columns=properties.columns||['1','2','3','4','5'];return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:rows.map((row,rowIdx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1/4 text-gray-700 font-semibold\",children:row}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:columns.map((col,colIdx)=>{var _formValues$fieldId;return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"scale-row-\".concat(fieldId,\"-\").concat(rowIdx),value:col,checked:((_formValues$fieldId=formValues[fieldId])===null||_formValues$fieldId===void 0?void 0:_formValues$fieldId[row])===col,onChange:()=>{const newValue=_objectSpread(_objectSpread({},formValues[fieldId]),{},{[row]:col});handleChange(fieldId,newValue);},disabled:isDisabled,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{children:col})]},colIdx);})})]},rowIdx))}),renderHelpText(),renderError()]});case'divider':return/*#__PURE__*/_jsx(\"hr\",{className:\"border-gray-300 my-4\"});case'formcalculation':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},commonProps),{},{value:formValues[fieldId]||'',readOnly:true,className:\"w-full p-2 border rounded-md \".concat(hasError?'border-red-500':'border-gray-300')})),renderHelpText(),renderError()]});case'link':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[renderLabel(),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"url\"},commonProps),{},{value:formValues[fieldId]||'',onChange:e=>handleChange(fieldId,e.target.value),placeholder:((_properties$placehold22=properties.placeholder)===null||_properties$placehold22===void 0?void 0:_properties$placehold22.main)||'https://example.com'})),renderHelpText(),renderError()]});case'section':return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 border p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:fieldLabel}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:properties.leftField&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Left Section: \",properties.leftField.id]})}),/*#__PURE__*/_jsx(\"div\",{children:properties.rightField&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Right Section: \",properties.rightField.id]})})]}),renderHelpText(),renderError()]});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-4 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6 text-gray-800\",children:formData.Name}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",\"aria-label\":\"Public Form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:(_pages$currentPage=pages[currentPage])===null||_pages$currentPage===void 0?void 0:_pages$currentPage.map(field=>/*#__PURE__*/_jsx(\"div\",{children:renderField(field)},field.Unique_Key__c))}),pages.length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlePreviousPage,disabled:currentPage===0,className:\"py-2 px-4 rounded-md font-medium transition \".concat(currentPage===0?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-blue-600 text-white hover:bg-blue-700'),\"aria-label\":\"Previous Page\",children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Page \",currentPage+1,\" of \",pages.length]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleNextPage,disabled:currentPage===pages.length-1,className:\"py-2 px-4 rounded-md font-medium transition \".concat(currentPage===pages.length-1?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-blue-600 text-white hover:bg-blue-700'),\"aria-label\":\"Next Page\",children:\"Next\"})]}),currentPage===pages.length-1&&/*#__PURE__*/_jsxs(_Fragment,{children:[errors.submit&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-2 text-center\",role:\"alert\",children:errors.submit}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting||!accessToken,className:\"w-full py-2 px-4 bg-blue-600 text-white rounded-md font-medium transition \".concat(isSubmitting||!accessToken?'opacity-50 cursor-not-allowed':'hover:bg-blue-700'),\"aria-label\":\"Submit Form\",children:isSubmitting?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 mr-2 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Submitting...\"]}):'Submit'})]})]})]});}export default PublicFormViewer;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","decrypt","DatePicker","SignatureCanvas","ReactQuill","InputMask","PhoneInput","AiOutlineStar","AiFillStar","AiOutlineHeart","AiFillHeart","FaRegLightbulb","FaLightbulb","FaBolt","FaInfoCircle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PublicFormViewer","_pages$currentPage","linkId","formData","setFormData","formValues","setFormValues","errors","setErrors","isSubmitting","setIsSubmitting","fetchError","setFetchError","accessToken","setAccessToken","linkData","setLinkData","signatures","setSignatures","filePreviews","setFilePreviews","selectedRatings","setSelectedRatings","selectedOptions","setSelectedOptions","isDropdownOpen","setIsDropdownOpen","toggles","setToggles","signatureRefs","currentPage","setCurrentPage","pages","setPages","fetchFormData","decrypted","JSON","parse","decodeURIComponent","e","Error","userId","instanceUrl","formVersionId","tokenResponse","fetch","process","env","REACT_APP_GET_ACCESS_TOKEN_URL","method","headers","body","stringify","tokenData","json","ok","error","token","access_token","response","REACT_APP_FETCH_FORM_BY_LINK_URL","data","formVersion","initialValues","initialSignatures","initialFilePreviews","initialRatings","initialSelectedOptions","initialToggles","Fields","forEach","field","properties","Properties__c","fieldType","Field_Type__c","allowMultipleSelections","Unique_Key__c","defaultValue","pageMap","pageNum","Page_Number__c","push","sortedPages","Object","keys","sort","a","b","Number","map","Order_Number__c","length","console","message","handleChange","fieldId","value","isFile","arguments","undefined","prev","_objectSpread","handleRatingChange","handleToggleChange","checked","handleOptionToggle","option","allowMultiple","newOptions","includes","filter","opt","handleFileChange","files","target","file","reader","FileReader","onload","result","readAsDataURL","handleSignatureEnd","sigCanvasRef","current","isEmpty","dataUrl","toDataURL","clearSignature","clear","validateForm","newErrors","_properties$numberVal","_properties$priceLimi","fieldLabel","label","Name","isRequired","Array","isArray","concat","isNaN","parseFloat","numberValueLimits","enabled","numValue","min","max","priceLimits","shortTextMaxChars","longTextMaxChars","test","allowedDomains","domains","split","d","trim","domain","join","enableConfirmation","maxFileSize","size","allowedFileTypes","extension","name","pop","toLowerCase","allowed","type","enableAgeVerification","today","Date","birthDate","age","getFullYear","m","getMonth","getDate","minAge","uploadFileToSalesforce","submissionId","FormData","append","appendcidas","REACT_APP_UPLOAD_DOCUMENT_URL","Authorization","documentId","handleSubmit","preventDefault","submissionData","filesToUpload","log","key","find","f","File","signatureBlob","blob","signatureFile","REACT_APP_SUBMIT_FORM_URL","formId","Form__c","Id","updatedSubmissionData","entries","alert","submit","handleNextPage","handlePreviousPage","className","role","children","renderField","_properties$placehold","_properties$placehold2","_properties$placehold3","_properties$placehold4","_properties$numberVal2","_properties$numberVal3","_properties$placehold5","_properties$priceLimi2","_properties$priceLimi3","_properties$placehold6","_properties$selectedC","_properties$placehold7","_properties$placehold8","_properties$dateForma","_properties$placehold9","_properties$placehold0","_properties$placehold1","_properties$placehold10","_properties$placehold11","_properties$salutatio","_properties$placehold12","_properties$placehold13","_properties$visibleSu","_properties$subLabels","_properties$placehold14","_properties$visibleSu2","_properties$subLabels2","_properties$placehold15","_properties$visibleSu3","_properties$subLabels3","_properties$placehold16","_properties$visibleSu4","_properties$subLabels4","_properties$placehold17","_properties$visibleSu5","_properties$subLabels5","_properties$placehold18","_properties$placehold19","_properties$placehold20","_properties$placehold21","_ratingOptions$find","_properties$placehold22","isDisabled","hasError","helpText","showHelpText","labelAlignment","commonProps","id","disabled","labelClass","renderLabel","htmlFor","renderError","renderHelpText","onChange","placeholder","main","maxLength","isRichText","theme","readOnly","modules","toolbar","rows","currencyType","step","maxChars","enableCountryCode","country","selectedCountryCode","phone","countryData","newCountryCode","countryCode","toUpperCase","inputClass","buttonClass","dropdownClass","containerClass","inputProps","enableSearch","searchPlaceholder","searchNotFound","preferredCountries","mask","phoneInputMask","format","dateFormat","replace","dateSeparator","date","formattedDate","toISOString","isoWeek","weekStartDay","locale","months","customMonthLabels","customTodayLabel","disabledDate","_properties$disabledD","_properties$dateRange","_properties$dateRange2","disabledDates","dateRange","start","end","timeFormat","year","month","String","padStart","day","hours","getHours","minutes","getMinutes","formattedDateTime","showMeridian","time","disabledTime","restrictAmPm","hour","options","idx","newValue","from","multiple","accept","multipleFiles","src","alt","onError","style","display","marginBottom","enableSalutation","salutation","salutations","sal","first","last","visibleSubFields","street","subLabels","city","state","postal","ref","canvasProps","backgroundColor","onEnd","onClick","makeAsLink","termsLinkUrl","href","rel","alignment","heading","ratingRange","ratingOptions","emoji","_","i","_properties$ratingEmo","_properties$ratingVal","symbol","ratingEmojis","ratingValues","star","_properties$ratingVal2","heart","_properties$ratingVal3","bulb","_properties$ratingVal4","lightning","_properties$ratingVal5","ratingType","o","columns","row","rowIdx","col","colIdx","_formValues$fieldId","leftField","rightField","onSubmit","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth"],"sources":["C:/Users/MVclouds/Desktop/QuickForm/Merged Mapping QF/QuickForm/QuickForm-Romit-Kajal-Merge/quick-form-app/src/components/form-publish/PublicFormViewer.js"],"sourcesContent":["// PublicFormViewer.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { decrypt } from '../form-builder-with-versions/crypto';\r\nimport { DatePicker } from 'rsuite';\r\nimport 'rsuite/dist/rsuite.min.css';\r\nimport SignatureCanvas from 'react-signature-canvas';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport InputMask from 'react-input-mask';\r\nimport PhoneInput from 'react-phone-input-2';\r\nimport 'react-phone-input-2/lib/style.css';\r\nimport { AiOutlineStar, AiFillStar, AiOutlineHeart, AiFillHeart } from 'react-icons/ai';\r\nimport { FaRegLightbulb, FaLightbulb, FaBolt, FaInfoCircle } from 'react-icons/fa';\r\n\r\nfunction PublicFormViewer() {\r\n  const { linkId } = useParams();\r\n  const [formData, setFormData] = useState(null);\r\n  const [formValues, setFormValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [fetchError, setFetchError] = useState(null);\r\n  const [accessToken, setAccessToken] = useState(null);\r\n  const [linkData, setLinkData] = useState(null);\r\n  const [signatures, setSignatures] = useState({});\r\n  const [filePreviews, setFilePreviews] = useState({});\r\n  const [selectedRatings, setSelectedRatings] = useState({});\r\n  const [selectedOptions, setSelectedOptions] = useState({});\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState({});\r\n  const [toggles, setToggles] = useState({});\r\n  const signatureRefs = useRef({});\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [pages, setPages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchFormData = async () => {\r\n      try {\r\n        let decrypted;\r\n        try {\r\n          decrypted = JSON.parse(decrypt(decodeURIComponent(linkId)));\r\n        } catch (e) {\r\n          throw new Error('Invalid or corrupted link');\r\n        }\r\n\r\n        const { userId, instanceUrl, formVersionId } = decrypted;\r\n        if (!userId || !instanceUrl || !formVersionId) {\r\n          throw new Error('Invalid link data');\r\n        }\r\n        setLinkData({ userId, instanceUrl, formVersionId });\r\n\r\n        const tokenResponse = await fetch(process.env.REACT_APP_GET_ACCESS_TOKEN_URL, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            userId,\r\n            instanceUrl,\r\n          }),\r\n        });\r\n\r\n        const tokenData = await tokenResponse.json();\r\n        if (!tokenResponse.ok || tokenData.error) {\r\n          throw new Error(tokenData.error || 'Failed to fetch access token');\r\n        }\r\n        const token = tokenData.access_token;\r\n        setAccessToken(token);\r\n\r\n        const response = await fetch(process.env.REACT_APP_FETCH_FORM_BY_LINK_URL, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            userId,\r\n            instanceUrl,\r\n            formVersionId,\r\n            accessToken: token,\r\n          }),\r\n        });\r\n\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(data.error || 'Failed to fetch form');\r\n        }\r\n\r\n        setFormData(data.formVersion);\r\n        const initialValues = {};\r\n        const initialSignatures = {};\r\n        const initialFilePreviews = {};\r\n        const initialRatings = {};\r\n        const initialSelectedOptions = {};\r\n        const initialToggles = {};\r\n\r\n        data.formVersion.Fields.forEach((field) => {\r\n          const properties = JSON.parse(field.Properties__c || '{}');\r\n          const fieldType = field.Field_Type__c;\r\n\r\n          if (fieldType === 'checkbox' || (fieldType === 'dropdown' && properties.allowMultipleSelections)) {\r\n            initialValues[field.Unique_Key__c] = properties.defaultValue || [];\r\n          } else if (fieldType === 'datetime' || fieldType === 'date') {\r\n            initialValues[field.Unique_Key__c] = properties.defaultValue || null;\r\n          } else if (fieldType === 'time') {\r\n            initialValues[field.Unique_Key__c] = properties.defaultValue || '';\r\n          } else if (fieldType === 'scalerating') {\r\n            initialValues[field.Unique_Key__c] = {};\r\n          } else {\r\n            initialValues[field.Unique_Key__c] = properties.defaultValue || '';\r\n          }\r\n\r\n          initialSignatures[field.Unique_Key__c] = null;\r\n          initialFilePreviews[field.Unique_Key__c] = null;\r\n          initialRatings[field.Unique_Key__c] = null;\r\n          initialSelectedOptions[field.Unique_Key__c] = fieldType === 'dropdown' && properties.allowMultipleSelections ? [] : '';\r\n          initialToggles[field.Unique_Key__c] = false;\r\n        });\r\n\r\n        setFormValues(initialValues);\r\n        setSignatures(initialSignatures);\r\n        setFilePreviews(initialFilePreviews);\r\n        setSelectedRatings(initialRatings);\r\n        setSelectedOptions(initialSelectedOptions);\r\n        setToggles(initialToggles);\r\n\r\n        // Split fields into pages based on Page_Number__c and sort by Order_Number__c\r\n        const pageMap = {};\r\n        data.formVersion.Fields.forEach((field) => {\r\n          const pageNum = field.Page_Number__c || 1;\r\n          if (!pageMap[pageNum]) {\r\n            pageMap[pageNum] = [];\r\n          }\r\n          pageMap[pageNum].push(field);\r\n        });\r\n\r\n        const sortedPages = Object.keys(pageMap)\r\n          .sort((a, b) => Number(a) - Number(b))\r\n          .map((pageNum) => {\r\n            return pageMap[pageNum].sort((a, b) => (a.Order_Number__c || 0) - (b.Order_Number__c || 0));\r\n          });\r\n        setPages(sortedPages.length > 0 ? sortedPages : [data.formVersion.Fields]);\r\n      } catch (error) {\r\n        console.error('Error fetching form:', error);\r\n        setFetchError(error.message || 'Failed to load form');\r\n      }\r\n    };\r\n\r\n    if (linkId) {\r\n      fetchFormData();\r\n    }\r\n  }, [linkId]);\r\n\r\n  const handleChange = (fieldId, value, isFile = false) => {\r\n    setFormValues((prev) => ({ ...prev, [fieldId]: isFile ? value : value }));\r\n    setErrors((prev) => ({ ...prev, [fieldId]: null }));\r\n  };\r\n\r\n  const handleRatingChange = (fieldId, value) => {\r\n    setSelectedRatings((prev) => ({ ...prev, [fieldId]: value }));\r\n    handleChange(fieldId, value);\r\n  };\r\n\r\n  const handleToggleChange = (fieldId, checked) => {\r\n    setToggles((prev) => ({ ...prev, [fieldId]: checked }));\r\n    handleChange(fieldId, checked);\r\n  };\r\n\r\n  const handleOptionToggle = (fieldId, option, allowMultiple) => {\r\n    setSelectedOptions((prev) => {\r\n      let newOptions;\r\n      if (allowMultiple) {\r\n        newOptions = prev[fieldId].includes(option)\r\n          ? prev[fieldId].filter((opt) => opt !== option)\r\n          : [...prev[fieldId], option];\r\n      } else {\r\n        newOptions = option;\r\n        setIsDropdownOpen((prev) => ({ ...prev, [fieldId]: false }));\r\n      }\r\n      handleChange(fieldId, newOptions);\r\n      return { ...prev, [fieldId]: newOptions };\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (fieldId, e, fieldType) => {\r\n    const files = e.target.files;\r\n    if (files && files.length > 0) {\r\n      const file = files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setFilePreviews((prev) => ({ ...prev, [fieldId]: reader.result }));\r\n        handleChange(fieldId, file, true);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSignatureEnd = (fieldId, sigCanvasRef) => {\r\n    if (sigCanvasRef.current && !sigCanvasRef.current.isEmpty()) {\r\n      const dataUrl = sigCanvasRef.current.toDataURL('image/png');\r\n      setSignatures((prev) => ({ ...prev, [fieldId]: dataUrl }));\r\n      handleChange(fieldId, dataUrl);\r\n    }\r\n  };\r\n\r\n  const clearSignature = (fieldId, sigCanvasRef) => {\r\n    if (sigCanvasRef && sigCanvasRef.current) {\r\n      sigCanvasRef.current.clear();\r\n      setSignatures((prev) => ({ ...prev, [fieldId]: null }));\r\n      handleChange(fieldId, null);\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!formData) return false;\r\n    const newErrors = {};\r\n\r\n    formData.Fields.forEach((field) => {\r\n      const properties = JSON.parse(field.Properties__c || '{}');\r\n      const value = formValues[field.Unique_Key__c];\r\n      const fieldType = field.Field_Type__c;\r\n      const fieldLabel = properties.label || field.Name;\r\n\r\n      const isRequired = properties.isRequired;\r\n      if (isRequired) {\r\n        if (value === '' || value == null ||\r\n            (Array.isArray(value) && value.length === 0) ||\r\n            (fieldType === 'fileupload' && !value) ||\r\n            (fieldType === 'imageuploader' && !value) ||\r\n            (fieldType === 'signature' && !signatures[field.Unique_Key__c]) ||\r\n            (fieldType === 'terms' && !value) ||\r\n            (fieldType === 'scalerating' && (!value || Object.keys(value).length === 0))) {\r\n          newErrors[field.Unique_Key__c] = `${fieldLabel} is required`;\r\n        }\r\n      }\r\n\r\n      switch (fieldType) {\r\n        case 'number':\r\n          if (value !== '' && isNaN(parseFloat(value))) {\r\n            newErrors[field.Unique_Key__c] = `${fieldLabel} must be a valid number`;\r\n          } else if (properties.numberValueLimits?.enabled) {\r\n            const numValue = parseFloat(value);\r\n            const { min, max } = properties.numberValueLimits;\r\n            if (min != null && numValue < parseFloat(min)) {\r\n              newErrors[field.Unique_Key__c] = `${fieldLabel} must be at least ${min}`;\r\n            }\r\n            if (max != null && numValue > parseFloat(max)) {\r\n              newErrors[field.Unique_Key__c] = `${fieldLabel} must be at most ${max}`;\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'price':\r\n          if (value !== '' && isNaN(parseFloat(value))) {\r\n            newErrors[field.Unique_Key__c] = `${fieldLabel} must be a valid number`;\r\n          } else if (properties.priceLimits?.enabled) {\r\n            const numValue = parseFloat(value);\r\n            const { min, max } = properties.priceLimits;\r\n            if (min != null && numValue < parseFloat(min)) {\r\n              newErrors[field.Unique_Key__c] = `${fieldLabel} must be at least ${min}`;\r\n            }\r\n            if (max != null && numValue > parseFloat(max)) {\r\n              newErrors[field.Unique_Key__c] = `${fieldLabel} must be at most ${max}`;\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'shorttext':\r\n          if (properties.shortTextMaxChars && value && value.length > properties.shortTextMaxChars) {\r\n            newErrors[field.Unique_Key__c] = `${fieldLabel} must be at most ${properties.shortTextMaxChars} characters`;\r\n          }\r\n          break;\r\n\r\n        case 'longtext':\r\n          if (properties.longTextMaxChars && value && value.length > properties.longTextMaxChars) {\r\n            newErrors[field.Unique_Key__c] = `${fieldLabel} must be at most ${properties.longTextMaxChars} characters`;\r\n          }\r\n          break;\r\n\r\n        case 'email':\r\n          if (value && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\r\n            newErrors[field.Unique_Key__c] = `${fieldLabel} must be a valid email address`;\r\n          }\r\n          if (properties.allowedDomains && value) {\r\n            const domains = properties.allowedDomains.split(',').map(d => d.trim());\r\n            const domain = value.split('@')[1];\r\n            if (!domains.includes(domain)) {\r\n              newErrors[field.Unique_Key__c] = `${fieldLabel} must be from one of these domains: ${domains.join(', ')}`;\r\n            }\r\n          }\r\n          if (properties.enableConfirmation && value !== formValues[`${field.Unique_Key__c}_confirmation`]) {\r\n            newErrors[`${field.Unique_Key__c}_confirmation`] = 'Email confirmation does not match';\r\n          }\r\n          break;\r\n\r\n        case 'fileupload':\r\n        case 'imageuploader':\r\n          if (value && properties.maxFileSize && value.size > properties.maxFileSize * 1024 * 1024) {\r\n            newErrors[field.Unique_Key__c] = `File size exceeds ${properties.maxFileSize}MB limit`;\r\n          }\r\n          if (value && properties.allowedFileTypes) {\r\n            const extension = value.name.split('.').pop().toLowerCase();\r\n            const allowed = properties.allowedFileTypes.split(',').map(type => type.trim().toLowerCase());\r\n            if (!allowed.includes(extension)) {\r\n              newErrors[field.Unique_Key__c] = `File type ${extension} is not allowed. Allowed types: ${properties.allowedFileTypes}`;\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'date':\r\n          if (properties.enableAgeVerification && value) {\r\n            const today = new Date();\r\n            const birthDate = new Date(value);\r\n            let age = today.getFullYear() - birthDate.getFullYear();\r\n            const m = today.getMonth() - birthDate.getMonth();\r\n            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n              age--;\r\n            }\r\n            if (age < properties.minAge) {\r\n              newErrors[field.Unique_Key__c] = `You must be at least ${properties.minAge} years old`;\r\n            }\r\n          }\r\n          break;\r\n      }\r\n    });\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const uploadFileToSalesforce = async (file, submissionId) => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('submissionId', submissionId);\r\n    formData.append('userId', linkData.userId);\r\n    formData.appendcidas('instanceUrl', linkData.instanceUrl);\r\n\r\n    const response = await fetch(process.env.REACT_APP_UPLOAD_DOCUMENT_URL, {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      body: formData,\r\n    });\r\n\r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(data.error || 'Failed to upload file');\r\n    }\r\n    return data.documentId;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm() || !linkData || !accessToken) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const submissionData = {};\r\n      const filesToUpload = {};\r\n      console.log('here');\r\n      \r\n      for (const key of Object.keys(formValues)) {\r\n      const field = formData.Fields.find((f) => f.Unique_Key__c === key);\r\n      const fieldType = field?.Field_Type__c;\r\n\r\n      if (['fileupload', 'imageuploader'].includes(fieldType) && formValues[key] instanceof File) {\r\n        filesToUpload[key] = formValues[key];\r\n        submissionData[key] = formValues[key].name;\r\n      } else if (fieldType === 'signature' && signatures[key]) {\r\n        const signatureBlob = await (await fetch(signatures[key])).blob();\r\n        const signatureFile = new File([signatureBlob], `${key}.png`, { type: 'image/png' });\r\n        filesToUpload[key] = signatureFile;\r\n        submissionData[key] = `${key}.png`;\r\n      } else {\r\n        submissionData[key] = formValues[key];\r\n      }\r\n    }\r\n    console.log(submissionData);\r\n    console.log(filesToUpload);\r\n    \r\n    \r\n      const response = await fetch(process.env.REACT_APP_SUBMIT_FORM_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${accessToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          userId: linkData.userId,\r\n          instanceUrl: linkData.instanceUrl,\r\n          submissionData: {\r\n            formId: formData.Form__c,\r\n            formVersionId: formData.Id,\r\n            data: submissionData,\r\n            signatures: signatures,\r\n          },\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to submit form');\r\n      }\r\n\r\n      const submissionId = data.submissionId;\r\n\r\n      const updatedSubmissionData = { ...submissionData };\r\n      for (const [key, file] of Object.entries(filesToUpload)) {\r\n        const documentId = await uploadFileToSalesforce(file, submissionId);\r\n        updatedSubmissionData[key] = documentId;\r\n      }\r\n\r\n      alert('Form submitted successfully!');\r\n      const initialValues = {};\r\n      formData.Fields.forEach((field) => {\r\n        const properties = JSON.parse(field.Properties__c || '{}');\r\n        const fieldType = field.Field_Type__c;\r\n        if (fieldType === 'checkbox' || (fieldType === 'dropdown' && properties.allowMultipleSelections)) {\r\n          initialValues[field.Unique_Key__c] = [];\r\n        } else if (fieldType === 'datetime' || fieldType === 'date') {\r\n          initialValues[field.Unique_Key__c] = null;\r\n        } else if (fieldType === 'scalerating') {\r\n          initialValues[field.Unique_Key__c] = {};\r\n        } else {\r\n          initialValues[field.Unique_Key__c] = '';\r\n        }\r\n      });\r\n      setFormValues(initialValues);\r\n      setErrors({});\r\n      setSignatures({});\r\n      setFilePreviews({});\r\n      setSelectedRatings({});\r\n      setSelectedOptions({});\r\n      setToggles({});\r\n      setCurrentPage(0);\r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n      setErrors({ submit: error.message || 'Failed to submit form' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    if (currentPage < pages.length - 1) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const handlePreviousPage = () => {\r\n    if (currentPage > 0) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  if (fetchError) {\r\n    return <div className=\"text-red-500 text-center p-4\" role=\"alert\">{fetchError}</div>;\r\n  }\r\n\r\n  if (!formData) {\r\n    return <div className=\"text-center p-4\">Loading form...</div>;\r\n  }\r\n\r\n  const renderField = (field) => {\r\n    const properties = JSON.parse(field.Properties__c || '{}');\r\n    const fieldId = field.Unique_Key__c;\r\n    const fieldType = field.Field_Type__c;\r\n    const fieldLabel = properties.label || field.Name;\r\n    const isDisabled = properties.isDisabled || false;\r\n    const isRequired = properties.isRequired;\r\n    const hasError = !!errors[fieldId];\r\n    const helpText = properties.showHelpText ? properties.helpText : null;\r\n    const labelAlignment = properties.labelAlignment || 'top';\r\n\r\n    const commonProps = {\r\n      id: fieldId,\r\n      disabled: isDisabled,\r\n      'aria-required': isRequired,\r\n      'aria-describedby': hasError ? `${fieldId}-error` : undefined,\r\n      className: `w-full p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 ${hasError ? 'border-red-500' : 'border-gray-300'}`,\r\n    };\r\n\r\n    const labelClass = `block text-sm font-medium mb-1 ${hasError ? 'text-red-600' : 'text-gray-700'}`;\r\n\r\n    const renderLabel = () => (\r\n      <label htmlFor={fieldId} className={labelClass}>\r\n        {fieldLabel}\r\n        {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\r\n      </label>\r\n    );\r\n\r\n    const renderError = () => (\r\n      hasError && (\r\n        <p id={`${fieldId}-error`} className=\"text-red-500 text-sm mt-1\" role=\"alert\">\r\n          {errors[fieldId]}\r\n        </p>\r\n      )\r\n    );\r\n\r\n    const renderHelpText = () => (\r\n      helpText && (\r\n        <p className=\"text-gray-500 text-sm mt-1\">{helpText}</p>\r\n      )\r\n    );\r\n\r\n    switch (fieldType) {\r\n      case 'shorttext':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <input\r\n              type=\"text\"\r\n              {...commonProps}\r\n              value={formValues[fieldId] || ''}\r\n              onChange={(e) => handleChange(fieldId, e.target.value)}\r\n              placeholder={properties.placeholder?.main || ''}\r\n              maxLength={properties.shortTextMaxChars}\r\n            />\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'longtext':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            {properties.isRichText ? (\r\n              <ReactQuill\r\n                theme=\"snow\"\r\n                value={formValues[fieldId] || ''}\r\n                onChange={(value) => handleChange(fieldId, value)}\r\n                readOnly={isDisabled}\r\n                placeholder={properties.placeholder?.main || ''}\r\n                modules={{\r\n                  toolbar: isDisabled ? false : [\r\n                    ['bold', 'italic', 'underline', 'strike'],\r\n                    ['blockquote', 'code-block'],\r\n                    [{ 'header': 1 }, { 'header': 2 }],\r\n                    [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n                    [{ 'script': 'sub'}, { 'script': 'super' }],\r\n                    [{ 'indent': '-1'}, { 'indent': '+1' }],\r\n                    [{ 'direction': 'rtl' }],\r\n                    [{ 'size': ['small', false, 'large', 'huge'] }],\r\n                    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n                    [{ 'color': [] }, { 'background': [] }],\r\n                    [{ 'font': [] }],\r\n                    [{ 'align': [] }],\r\n                    ['clean']\r\n                  ]\r\n                }}\r\n              />\r\n            ) : (\r\n              <textarea\r\n                {...commonProps}\r\n                rows=\"4\"\r\n                value={formValues[fieldId] || ''}\r\n                onChange={(e) => handleChange(fieldId, e.target.value)}\r\n                placeholder={properties.placeholder?.main || ''}\r\n                maxLength={properties.longTextMaxChars}\r\n              />\r\n            )}\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'number':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <input\r\n              type=\"number\"\r\n              {...commonProps}\r\n              value={formValues[fieldId] || ''}\r\n              onChange={(e) => handleChange(fieldId, e.target.value)}\r\n              placeholder={properties.placeholder?.main || ''}\r\n              min={properties.numberValueLimits?.min}\r\n              max={properties.numberValueLimits?.max}\r\n            />\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'price':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-gray-700\">{properties.currencyType || 'USD'}</span>\r\n              <input\r\n                type=\"number\"\r\n                {...commonProps}\r\n                step=\"0.01\"\r\n                value={formValues[fieldId] || ''}\r\n                onChange={(e) => handleChange(fieldId, e.target.value)}\r\n                placeholder={properties.placeholder?.main || ''}\r\n                min={properties.priceLimits?.min}\r\n                max={properties.priceLimits?.max}\r\n              />\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'email':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <input\r\n              type=\"email\"\r\n              {...commonProps}\r\n              value={formValues[fieldId] || ''}\r\n              onChange={(e) => handleChange(fieldId, e.target.value)}\r\n              placeholder={properties.placeholder?.main || 'example@domain.com'}\r\n              maxLength={properties.maxChars}\r\n            />\r\n            {properties.enableConfirmation && (\r\n              <div className=\"mt-2\">\r\n                <label htmlFor={`${fieldId}_confirmation`} className={labelClass}>\r\n                  Confirm Email\r\n                  {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  {...commonProps}\r\n                  id={`${fieldId}_confirmation`}\r\n                  value={formValues[`${fieldId}_confirmation`] || ''}\r\n                  onChange={(e) => handleChange(`${fieldId}_confirmation`, e.target.value)}\r\n                  placeholder=\"Confirm email\"\r\n                />\r\n                {errors[`${fieldId}_confirmation`] && (\r\n                  <p id={`${fieldId}_confirmation-error`} className=\"text-red-500 text-sm mt-1\" role=\"alert\">\r\n                    {errors[`${fieldId}_confirmation`]}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'phone':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            {properties.enableCountryCode ? (\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-1/3\">\r\n                  <PhoneInput\r\n                    country={properties.selectedCountryCode?.toLowerCase() || 'us'}\r\n                    value={formValues[`${fieldId}_countryCode`] || ''}\r\n                    onChange={(phone, countryData) => {\r\n                      const newCountryCode = countryData.countryCode.toUpperCase();\r\n                      handleChange(`${fieldId}_countryCode`, newCountryCode);\r\n                    }}\r\n                    inputClass={`p-2 border rounded text-sm w-full ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                    buttonClass=\"border rounded p-1 bg-white\"\r\n                    dropdownClass=\"border rounded max-h-64 overflow-y-auto\"\r\n                    containerClass=\"flex items-center w-full\"\r\n                    inputProps={{ 'aria-label': 'Country code selector', readOnly: true }}\r\n                    disabled={isDisabled}\r\n                    placeholder=\"\"\r\n                    enableSearch\r\n                    searchPlaceholder=\"Search country\"\r\n                    searchNotFound=\"No country found\"\r\n                    preferredCountries={['us', 'ca', 'gb']}\r\n                  />\r\n                </div>\r\n                <div className=\"w-2/3\">\r\n                  <InputMask\r\n                    mask={properties.phoneInputMask || '(999) 999-9999'}\r\n                    value={formValues[fieldId] || ''}\r\n                    onChange={(e) => handleChange(fieldId, e.target.value)}\r\n                    className={`w-full p-2 border rounded text-sm ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder={properties.placeholder?.main || 'Enter phone number'}\r\n                    disabled={isDisabled}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <InputMask\r\n                mask={properties.phoneInputMask || '(999) 999-9999'}\r\n                value={formValues[fieldId] || ''}\r\n                onChange={(e) => handleChange(fieldId, e.target.value)}\r\n                className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                placeholder={properties.placeholder?.main || 'Enter phone number'}\r\n                disabled={isDisabled}\r\n              />\r\n            )}\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'date':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <DatePicker\r\n              format={properties.dateFormat?.replace(/\\//g, properties.dateSeparator || '-') || 'YYYY-MM-DD'}\r\n              value={formValues[fieldId] ? new Date(formValues[fieldId]) : null}\r\n              onChange={(date) => {\r\n                const formattedDate = date ? date.toISOString().split('T')[0] : null;\r\n                handleChange(fieldId, formattedDate);\r\n              }}\r\n              placeholder={properties.placeholder?.main || 'Select date'}\r\n              className=\"w-full\"\r\n              disabled={isDisabled}\r\n              isoWeek={properties.weekStartDay === 'Monday'}\r\n              locale={{\r\n                months: properties.customMonthLabels || [\r\n                  'January', 'February', 'March', 'April', 'May', 'June',\r\n                  'July', 'August', 'September', 'October', 'November', 'December'\r\n                ],\r\n                today: properties.customTodayLabel || 'Today',\r\n              }}\r\n              disabledDate={(date) => {\r\n                if (properties.disabledDates?.includes(date.toISOString().split('T')[0])) return true;\r\n                if (properties.dateRange?.start && date < new Date(properties.dateRange.start)) return true;\r\n                if (properties.dateRange?.end && date > new Date(properties.dateRange.end)) return true;\r\n                if (properties.enableAgeVerification) {\r\n                  const today = new Date();\r\n                  const birthDate = new Date(date);\r\n                  let age = today.getFullYear() - birthDate.getFullYear();\r\n                  const m = today.getMonth() - birthDate.getMonth();\r\n                  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n                    age--;\r\n                  }\r\n                  return age < properties.minAge;\r\n                }\r\n                return false;\r\n              }}\r\n            />\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'datetime':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <DatePicker\r\n              format={properties.dateFormat\r\n                ? `${properties.dateFormat.replace(/\\//g, properties.dateSeparator || '-')} ${properties.timeFormat || 'HH:mm'}`\r\n                : 'YYYY-MM-DD HH:mm'}\r\n              value={formValues[fieldId] ? new Date(formValues[fieldId]) : null}\r\n              onChange={(date) => {\r\n                if (date) {\r\n                  const year = date.getFullYear();\r\n                  const month = String(date.getMonth() + 1).padStart(2, '0');\r\n                  const day = String(date.getDate()).padStart(2, '0');\r\n                  const hours = String(date.getHours()).padStart(2, '0');\r\n                  const minutes = String(date.getMinutes()).padStart(2, '0');\r\n                  const formattedDateTime = `${year}-${month}-${day} ${hours}:${minutes}`;\r\n                  handleChange(fieldId, formattedDateTime);\r\n                } else {\r\n                  handleChange(fieldId, null);\r\n                }\r\n              }}\r\n              placeholder={properties.placeholder?.main || 'Select date and time'}\r\n              className=\"w-full\"\r\n              disabled={isDisabled}\r\n              showMeridian={properties.timeFormat === 'hh:mm a'}\r\n            />\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'time':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <DatePicker\r\n              format={properties.timeFormat || 'HH:mm'}\r\n              value={formValues[fieldId] ? new Date(`1970-01-01T${formValues[fieldId]}`) : null}\r\n              onChange={(date) => {\r\n                if (date) {\r\n                  const hours = String(date.getHours()).padStart(2, '0');\r\n                  const minutes = String(date.getMinutes()).padStart(2, '0');\r\n                  const time = `${hours}:${minutes}`;\r\n                  handleChange(fieldId, time);\r\n                } else {\r\n                  handleChange(fieldId, '');\r\n                }\r\n              }}\r\n              placeholder={properties.placeholder?.main || 'Select time'}\r\n              className=\"w-full\"\r\n              disabled={isDisabled}\r\n              showMeridian={properties.timeFormat === 'hh:mm a'}\r\n              disabledTime={(date) => {\r\n                if (!properties.restrictAmPm) return {};\r\n                const hours = date.getHours();\r\n                if (properties.restrictAmPm === 'AM' && hours >= 12) return { hour: true };\r\n                if (properties.restrictAmPm === 'PM' && hours < 12) return { hour: true };\r\n                return {};\r\n              }}\r\n            />\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'checkbox':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            <label className={labelClass}>\r\n              {fieldLabel}\r\n              {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {(properties.options || ['Option 1', 'Option 2']).map((option, idx) => (\r\n                <div key={idx} className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id={`${fieldId}-${idx}`}\r\n                    checked={Array.isArray(formValues[fieldId]) && formValues[fieldId].includes(option)}\r\n                    onChange={(e) => {\r\n                      const newValue = e.target.checked\r\n                        ? [...(formValues[fieldId] || []), option]\r\n                        : (formValues[fieldId] || []).filter((opt) => opt !== option);\r\n                      handleChange(fieldId, newValue);\r\n                    }}\r\n                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                    disabled={isDisabled}\r\n                  />\r\n                  <label htmlFor={`${fieldId}-${idx}`} className=\"ml-2 block text-sm text-gray-700\">\r\n                    {option}\r\n                  </label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'radio':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            <label className={labelClass}>\r\n              {fieldLabel}\r\n              {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {(properties.options || ['Option 1', 'Option 2', 'Option 3']).map((option, idx) => (\r\n                <div key={idx} className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    id={`${fieldId}-${idx}`}\r\n                    name={fieldId}\r\n                    value={option}\r\n                    checked={formValues[fieldId] === option}\r\n                    onChange={(e) => handleChange(fieldId, e.target.value)}\r\n                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\r\n                    disabled={isDisabled}\r\n                  />\r\n                  <label htmlFor={`${fieldId}-${idx}`} className=\"ml-2 block text-sm text-gray-700\">\r\n                    {option}\r\n                  </label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'dropdown':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"relative\">\r\n              <select\r\n                {...commonProps}\r\n                value={formValues[fieldId] || (properties.allowMultipleSelections ? [] : '')}\r\n                onChange={(e) => {\r\n                  const value = properties.allowMultipleSelections\r\n                    ? Array.from(e.target.selectedOptions, option => option.value)\r\n                    : e.target.value;\r\n                  handleChange(fieldId, value);\r\n                }}\r\n                multiple={properties.allowMultipleSelections}\r\n              >\r\n                <option value=\"\" disabled={!properties.allowMultipleSelections}>\r\n                  {properties.placeholder?.main || 'Select an option'}\r\n                </option>\r\n                {(properties.options || ['Option 1', 'Option 2', 'Option 3']).map((option, idx) => (\r\n                  <option key={idx} value={option}>\r\n                    {option}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'fileupload':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <input\r\n              type=\"file\"\r\n              {...commonProps}\r\n              onChange={(e) => handleFileChange(fieldId, e, 'fileupload')}\r\n              accept={properties.allowedFileTypes || 'image/*,application/pdf,.doc,.docx'}\r\n              multiple={properties.multipleFiles}\r\n            />\r\n            {filePreviews[fieldId] && (\r\n              <div className=\"mt-2\">\r\n                <img src={filePreviews[fieldId]} alt=\"Preview\" className=\"max-h-32\" onError={(e) => e.target.style.display = 'none'} />\r\n              </div>\r\n            )}\r\n            {properties.maxFileSize && (\r\n              <p className=\"text-gray-500 text-sm mt-1\">Max file size: {properties.maxFileSize}MB</p>\r\n            )}\r\n            {properties.allowedFileTypes && (\r\n              <p className=\"text-gray-500 text-sm mt-1\">Allowed types: {properties.allowedFileTypes}</p>\r\n            )}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'imageuploader':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"relative w-1/2\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                className=\"hidden\"\r\n                id={`file-upload-${fieldId}`}\r\n                onChange={(e) => handleFileChange(fieldId, e, 'imageuploader')}\r\n                disabled={isDisabled}\r\n              />\r\n              <label\r\n                htmlFor={`file-upload-${fieldId}`}\r\n                className={`block h-32 text-sm p-2 border rounded bg-gray-100 flex items-center justify-center text-gray-700 hover:bg-gray-200 cursor-pointer ${isDisabled ? 'cursor-not-allowed opacity-50' : ''} ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n              >\r\n                {filePreviews[fieldId] ? (\r\n                  <img src={filePreviews[fieldId]} alt=\"Preview\" className=\"max-h-full max-w-full\" />\r\n                ) : (\r\n                  'Click to Upload Image'\r\n                )}\r\n              </label>\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'toggle':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            <div className=\"flex items-center\">\r\n              <label className={labelClass} style={{ marginBottom: 0 }}>\r\n                {fieldLabel}\r\n                {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\r\n              </label>\r\n              <label className=\"inline-flex items-center cursor-pointer ml-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={toggles[fieldId] || false}\r\n                  onChange={(e) => handleToggleChange(fieldId, e.target.checked)}\r\n                  className=\"sr-only peer\"\r\n                  disabled={isDisabled}\r\n                />\r\n                <div className={`w-11 h-6 bg-gray-200 rounded-full peer ${toggles[fieldId] ? 'peer-checked:bg-blue-600' : ''}`}>\r\n                  <div className={`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${toggles[fieldId] ? 'translate-x-5' : 'translate-x-1'}`} />\r\n                </div>\r\n              </label>\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'fullname':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"flex gap-3\">\r\n              {properties.enableSalutation && (\r\n                <div className=\"w-1/5\">\r\n                  <label className=\"text-xs text-gray-500\">Salutation</label>\r\n                  <select\r\n                    className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                    value={formValues[`${fieldId}_salutation`] || ''}\r\n                    onChange={(e) => handleChange(`${fieldId}_salutation`, e.target.value)}\r\n                    disabled={isDisabled}\r\n                  >\r\n                    <option value=\"\">{properties.placeholder?.salutation || 'Select'}</option>\r\n                    {properties.salutations?.map((sal, idx) => (\r\n                      <option key={idx} value={sal}>{sal}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n              <div className={properties.enableSalutation ? 'w-2/5' : 'w-1/2'}>\r\n                <label className=\"text-xs text-gray-500\">First Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                  value={formValues[`${fieldId}_first`] || ''}\r\n                  onChange={(e) => handleChange(`${fieldId}_first`, e.target.value)}\r\n                  placeholder={properties.placeholder?.first || 'First Name'}\r\n                  disabled={isDisabled}\r\n                />\r\n              </div>\r\n              <div className={properties.enableSalutation ? 'w-2/5' : 'w-1/2'}>\r\n                <label className=\"text-xs text-gray-500\">Last Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                  value={formValues[`${fieldId}_last`] || ''}\r\n                  onChange={(e) => handleChange(`${fieldId}_last`, e.target.value)}\r\n                  placeholder={properties.placeholder?.last || 'Last Name'}\r\n                  disabled={isDisabled}\r\n                />\r\n              </div>\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'address':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"space-y-3\">\r\n              {properties.visibleSubFields?.street && (\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">{properties.subLabels?.street || 'Street Address'}</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                    value={formValues[`${fieldId}_street`] || ''}\r\n                    onChange={(e) => handleChange(`${fieldId}_street`, e.target.value)}\r\n                    placeholder={properties.placeholder?.street || 'Street Address'}\r\n                    disabled={isDisabled}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div className=\"flex gap-3\">\r\n                {properties.visibleSubFields?.city && (\r\n                  <div className=\"w-1/2\">\r\n                    <label className=\"text-xs text-gray-500\">{properties.subLabels?.city || 'City'}</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                      value={formValues[`${fieldId}_city`] || ''}\r\n                      onChange={(e) => handleChange(`${fieldId}_city`, e.target.value)}\r\n                      placeholder={properties.placeholder?.city || 'City'}\r\n                      disabled={isDisabled}\r\n                    />\r\n                  </div>\r\n                )}\r\n                {properties.visibleSubFields?.state && (\r\n                  <div className=\"w-1/2\">\r\n                    <label className=\"text-xs text-gray-500\">{properties.subLabels?.state || 'State'}</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                      value={formValues[`${fieldId}_state`] || ''}\r\n                      onChange={(e) => handleChange(`${fieldId}_state`, e.target.value)}\r\n                      placeholder={properties.placeholder?.state || 'State'}\r\n                      disabled={isDisabled}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"flex gap-3\">\r\n                {properties.visibleSubFields?.country && (\r\n                  <div className=\"w-1/2\">\r\n                    <label className=\"text-xs text-gray-500\">{properties.subLabels?.country || 'Country'}</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                      value={formValues[`${fieldId}_country`] || ''}\r\n                      onChange={(e) => handleChange(`${fieldId}_country`, e.target.value)}\r\n                      placeholder={properties.placeholder?.country || 'Country'}\r\n                      disabled={isDisabled}\r\n                    />\r\n                  </div>\r\n                )}\r\n                {properties.visibleSubFields?.postal && (\r\n                  <div className=\"w-1/2\">\r\n                    <label className=\"text-xs text-gray-500\">{properties.subLabels?.postal || 'Postal Code'}</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className={`w-full p-2 border rounded ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n                      value={formValues[`${fieldId}_postal`] || ''}\r\n                      onChange={(e) => handleChange(`${fieldId}_postal`, e.target.value)}\r\n                      placeholder={properties.placeholder?.postal || 'Postal Code'}\r\n                      disabled={isDisabled}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'signature':\r\n\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"flex flex-col gap-2\">\r\n              <SignatureCanvas\r\n                ref={(ref) => (signatureRefs.current[fieldId] = ref)}\r\n                canvasProps={{ \r\n                  className: `border rounded w-full h-32 ${hasError ? 'border-red-500' : 'border-gray-300'}`,\r\n                  style: { backgroundColor: '#fff' }\r\n                }}\r\n                onEnd={() => handleSignatureEnd(fieldId, signatureRefs.current[fieldId])}\r\n              />\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => clearSignature(fieldId, signatureRefs.current[fieldId])}\r\n                  className=\"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400\"\r\n                  disabled={isDisabled}\r\n                >\r\n                  Clear\r\n                </button>\r\n              </div>\r\n              {signatures[fieldId] && (\r\n                <img src={signatures[fieldId]} alt=\"Signature Preview\" className=\"w-32 h-16 object-contain\" />\r\n              )}\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'terms':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            <div className=\"flex items-start\">\r\n              <div className=\"flex items-center h-5\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id={fieldId}\r\n                  checked={formValues[fieldId] || false}\r\n                  onChange={(e) => handleChange(fieldId, e.target.checked)}\r\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                  disabled={isDisabled}\r\n                  aria-required={isRequired}\r\n                />\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <label htmlFor={fieldId} className={labelClass}>\r\n                  {properties.makeAsLink && properties.termsLinkUrl ? (\r\n                    <a\r\n                      href={properties.termsLinkUrl}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"text-blue-600 hover:underline\"\r\n                    >\r\n                      {properties.placeholder?.main || 'I agree to the terms and conditions'}\r\n                    </a>\r\n                  ) : (\r\n                    properties.placeholder?.main || 'I agree to the terms and conditions'\r\n                  )}\r\n                  {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\r\n                </label>\r\n              </div>\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'displaytext':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-gray-700\">{properties.placeholder?.main || properties.label || 'Display Text'}</p>\r\n          </div>\r\n        );\r\n\r\n      case 'header':\r\n        return (\r\n          <div className=\"mb-6\">\r\n            <h2 className={`text-2xl font-bold text-gray-800 ${\r\n              properties.alignment === 'left' ? 'text-left' : \r\n              properties.alignment === 'right' ? 'text-right' : \r\n              'text-center'\r\n            }`}>\r\n              {properties.heading || 'Form Header'}\r\n            </h2>\r\n          </div>\r\n        );\r\n\r\n      case 'rating':\r\n        const ratingRange = properties.ratingRange || 5;\r\n        const ratingOptions = {\r\n          emoji: Array.from({ length: ratingRange }, (_, i) => ({\r\n            value: `emoji${i + 1}`,\r\n            symbol: properties.ratingEmojis?.[i] || ['ðŸ˜ž', 'ðŸ™', 'ðŸ˜', 'ðŸ™‚', 'ðŸ˜€'][i % 5] || 'ðŸ˜€',\r\n            label: properties.ratingValues?.[i] || `Rating ${i + 1}`,\r\n          })),\r\n          star: Array.from({ length: ratingRange }, (_, i) => ({\r\n            value: i + 1,\r\n            label: properties.ratingValues?.[i] || `Rating ${i + 1}`,\r\n          })),\r\n          heart: Array.from({ length: ratingRange }, (_, i) => ({\r\n            value: `heart${i + 1}`,\r\n            symbol: 'â¤ï¸',\r\n            label: properties.ratingValues?.[i] || `Rating ${i + 1}`,\r\n          })),\r\n          bulb: Array.from({ length: ratingRange }, (_, i) => ({\r\n            value: `bulb${i + 1}`,\r\n            symbol: 'ðŸ’¡',\r\n            label: properties.ratingValues?.[i] || `Rating ${i + 1}`,\r\n          })),\r\n          lightning: Array.from({ length: ratingRange }, (_, i) => ({\r\n            value: `lightning${i + 1}`,\r\n            symbol: 'âš¡',\r\n            label: properties.ratingValues?.[i] || `Rating ${i + 1}`,\r\n          })),\r\n        };\r\n\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"flex flex-col gap-4\">\r\n              <div className=\"flex gap-2\">\r\n                {ratingOptions[properties.ratingType || 'star'].map((option, idx) => (\r\n                  <button\r\n                    key={option.value}\r\n                    type=\"button\"\r\n                    onClick={() => handleRatingChange(fieldId, option.value)}\r\n                    disabled={isDisabled}\r\n                    className={`text-2xl ${selectedRatings[fieldId] === option.value ? 'text-blue-600' : 'text-gray-400'} hover:text-blue-500 focus:outline-none`}\r\n                  >\r\n                    {properties.ratingType === 'star' ? (\r\n                      selectedRatings[fieldId] === option.value ? <AiFillStar /> : <AiOutlineStar />\r\n                    ) : properties.ratingType === 'heart' ? (\r\n                      selectedRatings[fieldId] === option.value ? <AiFillHeart /> : <AiOutlineHeart />\r\n                    ) : properties.ratingType === 'bulb' ? (\r\n                      selectedRatings[fieldId] === option.value ? <FaLightbulb /> : <FaRegLightbulb />\r\n                    ) : properties.ratingType === 'lightning' ? (\r\n                      selectedRatings[fieldId] === option.value ? <FaBolt /> : <FaBolt />\r\n                    ) : (\r\n                      option.symbol\r\n                    )}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              {selectedRatings[fieldId] && (\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Selected: {ratingOptions[properties.ratingType || 'star'].find(o => o.value === selectedRatings[fieldId])?.label}\r\n                </p>\r\n              )}\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'scalerating':\r\n        const rows = properties.rows || ['Row 1', 'Row 2'];\r\n        const columns = properties.columns || ['1', '2', '3', '4', '5'];\r\n\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <div className=\"space-y-2\">\r\n              {rows.map((row, rowIdx) => (\r\n                <div key={rowIdx} className=\"flex items-center space-x-4\">\r\n                  <span className=\"w-1/4 text-gray-700 font-semibold\">{row}</span>\r\n                  <div className=\"flex space-x-2\">\r\n                    {columns.map((col, colIdx) => (\r\n                      <label key={colIdx} className=\"flex items-center space-x-1\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name={`scale-row-${fieldId}-${rowIdx}`}\r\n                          value={col}\r\n                          checked={formValues[fieldId]?.[row] === col}\r\n                          onChange={() => {\r\n                            const newValue = { ...formValues[fieldId], [row]: col };\r\n                            handleChange(fieldId, newValue);\r\n                          }}\r\n                          disabled={isDisabled}\r\n                          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\r\n                        />\r\n                        <span>{col}</span>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'divider':\r\n        return <hr className=\"border-gray-300 my-4\" />;\r\n\r\n      case 'formcalculation':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <input\r\n              type=\"text\"\r\n              {...commonProps}\r\n              value={formValues[fieldId] || ''}\r\n              readOnly\r\n              className={`w-full p-2 border rounded-md ${hasError ? 'border-red-500' : 'border-gray-300'}`}\r\n            />\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'link':\r\n        return (\r\n          <div className=\"mb-4\">\r\n            {renderLabel()}\r\n            <input\r\n              type=\"url\"\r\n              {...commonProps}\r\n              value={formValues[fieldId] || ''}\r\n              onChange={(e) => handleChange(fieldId, e.target.value)}\r\n              placeholder={properties.placeholder?.main || 'https://example.com'}\r\n            />\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      case 'section':\r\n        return (\r\n          <div className=\"mb-4 border p-4 rounded\">\r\n            <h3 className=\"text-lg font-semibold mb-2\">{fieldLabel}</h3>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                {properties.leftField && (\r\n                  <p className=\"text-gray-600\">Left Section: {properties.leftField.id}</p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                {properties.rightField && (\r\n                  <p className=\"text-gray-600\">Right Section: {properties.rightField.id}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {renderHelpText()}\r\n            {renderError()}\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-4 bg-white rounded-lg shadow-md\">\r\n      <h1 className=\"text-2xl font-bold mb-6 text-gray-800\">{formData.Name}</h1>\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\" aria-label=\"Public Form\">\r\n        <div className=\"page\">\r\n          {pages[currentPage]?.map((field) => (\r\n            <div key={field.Unique_Key__c}>\r\n              {renderField(field)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {pages.length > 1 && (\r\n          <div className=\"flex justify-between mt-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handlePreviousPage}\r\n              disabled={currentPage === 0}\r\n              className={`py-2 px-4 rounded-md font-medium transition ${\r\n                currentPage === 0\r\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                  : 'bg-blue-600 text-white hover:bg-blue-700'\r\n              }`}\r\n              aria-label=\"Previous Page\"\r\n            >\r\n              Previous\r\n            </button>\r\n            <span className=\"text-gray-600\">\r\n              Page {currentPage + 1} of {pages.length}\r\n            </span>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleNextPage}\r\n              disabled={currentPage === pages.length - 1}\r\n              className={`py-2 px-4 rounded-md font-medium transition ${\r\n                currentPage === pages.length - 1\r\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                  : 'bg-blue-600 text-white hover:bg-blue-700'\r\n              }`}\r\n              aria-label=\"Next Page\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {currentPage === pages.length - 1 && (\r\n          <>\r\n            {errors.submit && (\r\n              <p className=\"text-red-500 text-sm mt-2 text-center\" role=\"alert\">\r\n                {errors.submit}\r\n              </p>\r\n            )}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting || !accessToken}\r\n              className={`w-full py-2 px-4 bg-blue-600 text-white rounded-md font-medium transition ${\r\n                isSubmitting || !accessToken ? 'opacity-50 cursor-not-allowed' : 'hover:bg-blue-700'\r\n              }`}\r\n              aria-label=\"Submit Form\"\r\n            >\r\n              {isSubmitting ? (\r\n                <span className=\"flex items-center justify-center\">\r\n                  <svg\r\n                    className=\"animate-spin h-5 w-5 mr-2 text-white\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    aria-hidden=\"true\"\r\n                  >\r\n                    <circle\r\n                      className=\"opacity-25\"\r\n                      cx=\"12\"\r\n                      cy=\"12\"\r\n                      r=\"10\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth=\"4\"\r\n                    ></circle>\r\n                    <path\r\n                      className=\"opacity-75\"\r\n                      fill=\"currentColor\"\r\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                    ></path>\r\n                  </svg>\r\n                  Submitting...\r\n                </span>\r\n              ) : (\r\n                'Submit'\r\n              )}\r\n            </button>\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PublicFormViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}