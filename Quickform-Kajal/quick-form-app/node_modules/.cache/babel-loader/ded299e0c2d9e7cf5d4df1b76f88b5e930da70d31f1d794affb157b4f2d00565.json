{"ast":null,"code":"'use client';\n\nimport { useState } from 'react';\nimport { useEventCallback } from \"../../internals/hooks/index.js\";\nimport { getSafeRegExpString } from \"../../internals/utils/index.js\";\nfunction useSearch(props) {\n  var _useState = useState(''),\n    searchKeyword = _useState[0],\n    setSearchKeyword = _useState[1];\n  var labelKey = props.labelKey,\n    childrenKey = props.childrenKey,\n    parentMap = props.parentMap,\n    flattenedData = props.flattenedData,\n    parentSelectable = props.parentSelectable,\n    onSearch = props.onSearch;\n  var _someKeyword = function someKeyword(item, keyword) {\n    if (item[labelKey].match(new RegExp(getSafeRegExpString(keyword || searchKeyword), 'i'))) {\n      return true;\n    }\n    var parent = parentMap.get(item);\n    if (parent && _someKeyword(parent)) {\n      return true;\n    }\n    return false;\n  };\n  var getSearchResult = function getSearchResult(keyword) {\n    var items = [];\n    var result = flattenedData.filter(function (item) {\n      if (!parentSelectable && item[childrenKey]) {\n        return false;\n      }\n      return _someKeyword(item, keyword);\n    });\n    for (var i = 0; i < result.length; i++) {\n      items.push(result[i]);\n\n      // A maximum of 100 search results are returned.\n      if (i === 99) {\n        return items;\n      }\n    }\n    return items;\n  };\n  var handleSearch = useEventCallback(function (value, event) {\n    var items = getSearchResult(value);\n    setSearchKeyword(value);\n    onSearch === null || onSearch === void 0 || onSearch(value, items, event);\n  });\n  return {\n    searchKeyword: searchKeyword,\n    setSearchKeyword: setSearchKeyword,\n    items: getSearchResult(),\n    handleSearch: handleSearch\n  };\n}\nexport default useSearch;","map":{"version":3,"names":["useState","useEventCallback","getSafeRegExpString","useSearch","props","_useState","searchKeyword","setSearchKeyword","labelKey","childrenKey","parentMap","flattenedData","parentSelectable","onSearch","_someKeyword","someKeyword","item","keyword","match","RegExp","parent","get","getSearchResult","items","result","filter","i","length","push","handleSearch","value","event"],"sources":["C:/Users/MVclouds/Desktop/QuickForm/Merged Mapping QF/QuickForm/QuickForm-Romit-Kajal-Merge/quick-form-app/node_modules/rsuite/esm/CascadeTree/hooks/useSearch.js"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport { useEventCallback } from \"../../internals/hooks/index.js\";\nimport { getSafeRegExpString } from \"../../internals/utils/index.js\";\nfunction useSearch(props) {\n  var _useState = useState(''),\n    searchKeyword = _useState[0],\n    setSearchKeyword = _useState[1];\n  var labelKey = props.labelKey,\n    childrenKey = props.childrenKey,\n    parentMap = props.parentMap,\n    flattenedData = props.flattenedData,\n    parentSelectable = props.parentSelectable,\n    onSearch = props.onSearch;\n  var _someKeyword = function someKeyword(item, keyword) {\n    if (item[labelKey].match(new RegExp(getSafeRegExpString(keyword || searchKeyword), 'i'))) {\n      return true;\n    }\n    var parent = parentMap.get(item);\n    if (parent && _someKeyword(parent)) {\n      return true;\n    }\n    return false;\n  };\n  var getSearchResult = function getSearchResult(keyword) {\n    var items = [];\n    var result = flattenedData.filter(function (item) {\n      if (!parentSelectable && item[childrenKey]) {\n        return false;\n      }\n      return _someKeyword(item, keyword);\n    });\n    for (var i = 0; i < result.length; i++) {\n      items.push(result[i]);\n\n      // A maximum of 100 search results are returned.\n      if (i === 99) {\n        return items;\n      }\n    }\n    return items;\n  };\n  var handleSearch = useEventCallback(function (value, event) {\n    var items = getSearchResult(value);\n    setSearchKeyword(value);\n    onSearch === null || onSearch === void 0 || onSearch(value, items, event);\n  });\n  return {\n    searchKeyword: searchKeyword,\n    setSearchKeyword: setSearchKeyword,\n    items: getSearchResult(),\n    handleSearch: handleSearch\n  };\n}\nexport default useSearch;"],"mappings":"AAAA,YAAY;;AACZ,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,gBAAgB,QAAQ,gCAAgC;AACjE,SAASC,mBAAmB,QAAQ,gCAAgC;AACpE,SAASC,SAASA,CAACC,KAAK,EAAE;EACxB,IAAIC,SAAS,GAAGL,QAAQ,CAAC,EAAE,CAAC;IAC1BM,aAAa,GAAGD,SAAS,CAAC,CAAC,CAAC;IAC5BE,gBAAgB,GAAGF,SAAS,CAAC,CAAC,CAAC;EACjC,IAAIG,QAAQ,GAAGJ,KAAK,CAACI,QAAQ;IAC3BC,WAAW,GAAGL,KAAK,CAACK,WAAW;IAC/BC,SAAS,GAAGN,KAAK,CAACM,SAAS;IAC3BC,aAAa,GAAGP,KAAK,CAACO,aAAa;IACnCC,gBAAgB,GAAGR,KAAK,CAACQ,gBAAgB;IACzCC,QAAQ,GAAGT,KAAK,CAACS,QAAQ;EAC3B,IAAIC,YAAY,GAAG,SAASC,WAAWA,CAACC,IAAI,EAAEC,OAAO,EAAE;IACrD,IAAID,IAAI,CAACR,QAAQ,CAAC,CAACU,KAAK,CAAC,IAAIC,MAAM,CAACjB,mBAAmB,CAACe,OAAO,IAAIX,aAAa,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;MACxF,OAAO,IAAI;IACb;IACA,IAAIc,MAAM,GAAGV,SAAS,CAACW,GAAG,CAACL,IAAI,CAAC;IAChC,IAAII,MAAM,IAAIN,YAAY,CAACM,MAAM,CAAC,EAAE;MAClC,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd,CAAC;EACD,IAAIE,eAAe,GAAG,SAASA,eAAeA,CAACL,OAAO,EAAE;IACtD,IAAIM,KAAK,GAAG,EAAE;IACd,IAAIC,MAAM,GAAGb,aAAa,CAACc,MAAM,CAAC,UAAUT,IAAI,EAAE;MAChD,IAAI,CAACJ,gBAAgB,IAAII,IAAI,CAACP,WAAW,CAAC,EAAE;QAC1C,OAAO,KAAK;MACd;MACA,OAAOK,YAAY,CAACE,IAAI,EAAEC,OAAO,CAAC;IACpC,CAAC,CAAC;IACF,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACtCH,KAAK,CAACK,IAAI,CAACJ,MAAM,CAACE,CAAC,CAAC,CAAC;;MAErB;MACA,IAAIA,CAAC,KAAK,EAAE,EAAE;QACZ,OAAOH,KAAK;MACd;IACF;IACA,OAAOA,KAAK;EACd,CAAC;EACD,IAAIM,YAAY,GAAG5B,gBAAgB,CAAC,UAAU6B,KAAK,EAAEC,KAAK,EAAE;IAC1D,IAAIR,KAAK,GAAGD,eAAe,CAACQ,KAAK,CAAC;IAClCvB,gBAAgB,CAACuB,KAAK,CAAC;IACvBjB,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,IAAIA,QAAQ,CAACiB,KAAK,EAAEP,KAAK,EAAEQ,KAAK,CAAC;EAC3E,CAAC,CAAC;EACF,OAAO;IACLzB,aAAa,EAAEA,aAAa;IAC5BC,gBAAgB,EAAEA,gBAAgB;IAClCgB,KAAK,EAAED,eAAe,CAAC,CAAC;IACxBO,YAAY,EAAEA;EAChB,CAAC;AACH;AACA,eAAe1B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}